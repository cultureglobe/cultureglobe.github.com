function g(a){throw a;}var j=void 0,k=true,n=null,p=false;function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var r,t=this;function u(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function v(a){return a!==j}function w(a){return a===n}function x(a){return a!=n}function y(a){return ca(a)=="array"}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function z(a){return typeof a=="string"}function ea(a){return typeof a=="number"}function fa(a){return ca(a)=="function"}function ga(a){a=ca(a);return a=="object"||a=="array"||a=="function"}
function ha(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){a||g(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function A(a,b,c){A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ka:la;return A.apply(n,arguments)}var B=Date.now||function(){return+new Date};function C(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c};var ma=/^[a-zA-Z0-9\-_.!~*'()]*$/;function na(a){a=String(a);return!ma.test(a)?encodeURIComponent(a):a}function oa(a){if(!pa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(qa,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(ra,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(sa,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(ta,"&quot;"));return a}var qa=/&/g,ra=/</g,sa=/>/g,ta=/\"/g,pa=/[&<>\"]/;function ua(a){return a.indexOf("&")!=-1?"document"in t?va(a):wa(a):a}
function va(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(xa,function(a,e){var f=b[a];if(f)return f;if(e.charAt(0)=="#"){var h=Number("0"+e.substr(1));isNaN(h)||(f=String.fromCharCode(h))}if(!f)c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1);return b[a]=f})}
function wa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(c.charAt(0)=="#"){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var xa=/&([^;\s<&]+);?/g;
function za(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var i=d[h]||"",l=e[h]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var o=m.exec(i)||["","",""],G=q.exec(l)||["","",""];if(o[0].length==0&&G[0].length==0)break;c=Aa(o[1].length==0?0:parseInt(o[1],10),G[1].length==0?0:parseInt(G[1],10))||Aa(o[2].length==0,G[2].length==0)||Aa(o[2],G[2])}while(c==
0)}return c}function Aa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var D=Array.prototype,Ba=D.indexOf?function(a,b,c){return D.indexOf.call(a,b,c)}:function(a,b,c){c=c==n?0:c<0?Math.max(0,a.length+c):c;if(z(a))return!z(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},E=D.forEach?function(a,b,c){D.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ca=D.filter?function(a,b,c){return D.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=z(a)?a.split(""):
a,i=0;i<d;i++)if(i in h){var l=h[i];b.call(c,l,i,a)&&(e[f++]=l)}return e};function Da(a,b){var c=Ba(a,b),d;(d=c>=0)&&D.splice.call(a,c,1);return d}function Ea(a){return D.concat.apply(D,arguments)}function Fa(a){if(y(a))return Ea(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}
function Ga(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(y(d)||(e=da(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var f=a.length,h=d.length,i=0;i<h;i++)a[f+i]=d[i];else a.push(d)}}function Ha(a,b,c,d){D.splice.apply(a,Ia(arguments,1))}function Ia(a,b,c){return arguments.length<=2?D.slice.call(a,b):D.slice.call(a,b,c)}function Ja(a,b){D.sort.call(a,b||Ka)}function Ka(a,b){return a>b?1:a<b?-1:0}
function La(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];y(d)?b.push.apply(b,La.apply(n,d)):b.push(d)}return b};var Ma,Na,Oa,Pa,Qa;function Ra(){return t.navigator?t.navigator.userAgent:n}Pa=Oa=Na=Ma=p;var Sa;if(Sa=Ra()){var Ta=t.navigator;Ma=Sa.indexOf("Opera")==0;Na=!Ma&&Sa.indexOf("MSIE")!=-1;Oa=!Ma&&Sa.indexOf("WebKit")!=-1;Pa=!Ma&&!Oa&&Ta.product=="Gecko"}var Ua=Ma,F=Na,Va=Pa,H=Oa,Wa,Xa=t.navigator;Wa=Xa&&Xa.platform||"";Qa=Wa.indexOf("Mac")!=-1;var Ya=Wa.indexOf("Win")!=-1,Za;
a:{var $a="",ab;if(Ua&&t.opera)var bb=t.opera.version,$a=typeof bb=="function"?bb():bb;else if(Va?ab=/rv\:([^\);]+)(\)|;)/:F?ab=/MSIE\s+([^\);]+)(\)|;)/:H&&(ab=/WebKit\/(\S+)/),ab)var cb=ab.exec(Ra()),$a=cb?cb[1]:"";if(F){var db,eb=t.document;db=eb?eb.documentMode:j;if(db>parseFloat($a)){Za=String(db);break a}}Za=$a}var fb={};function gb(a){return fb[a]||(fb[a]=za(Za,a)>=0)}var hb={};function ib(){return hb[9]||(hb[9]=F&&document.documentMode&&document.documentMode>=9)};var jb,kb=!F||ib();!Va&&!F||F&&ib()||Va&&gb("1.9.1");F&&gb("9");function lb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function mb(a,b){var c=lb(a),d=Ia(arguments,1),e;e=c;for(var f=0,h=0;h<d.length;h++)Ba(e,d[h])>=0||(e.push(d[h]),f++);e=f==d.length;a.className=c.join(" ");return e}function nb(a,b){for(var c=lb(a),d=Ia(arguments,1),e=c,f=0,h=0;h<e.length;h++)Ba(d,e[h])>=0&&(Ha(e,h--,1),f++);a.className=c.join(" ")};function ob(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}ob.prototype.R=function(){return new ob(this.x,this.y)};function pb(a,b){this.width=a;this.height=b}function qb(a,b){return a==b?k:!a||!b?p:a.width==b.width&&a.height==b.height}r=pb.prototype;r.R=function(){return new pb(this.width,this.height)};r.Qb=function(){return this.width/this.height};r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};r.scale=function(a){this.width*=a;this.height*=a;return this};function rb(a,b){for(var c in a)b.call(j,a[c],c,a)}function sb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function tb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ub(){var a=vb,b;for(b in a)return p;return k}var wb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<wb.length;f++)c=wb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function yb(a){return a?new zb(I(a)):jb||(jb=new zb)}function J(a){return z(a)?document.getElementById(a):a}
function Ab(a,b,c){c=c||document;a=a&&a!="*"?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName)if(c=c.getElementsByClassName(b),a){for(var d={},e=0,f=0,h;h=c[f];f++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}else return c;c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;h=c[f];f++)a=h.className,typeof a.split=="function"&&Ba(a.split(/\s+/),b)>=0&&(d[e++]=h);d.length=e;return d}else return c}
function Bb(a,b){rb(b,function(b,d){d=="style"?a.style.cssText=b:d=="class"?a.className=b:d=="for"?a.htmlFor=b:d in Cb?a.setAttribute(Cb[d],b):d.lastIndexOf("aria-",0)==0?a.setAttribute(d,b):a[d]=b})}var Cb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function K(a,b,c){return Db(document,arguments)}
function Db(a,b){var c=b[0],d=b[1];if(!kb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',oa(d.name),'"');if(d.type){c.push(' type="',oa(d.type),'"');var e={};xb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)z(d)?c.className=d:y(d)?mb.apply(n,[c].concat(d)):Bb(c,d);b.length>2&&Eb(a,c,b,2);return c}
function Eb(a,b,c,d){function e(c){c&&b.appendChild(z(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];da(f)&&!(ga(f)&&f.nodeType>0)?E(Fb(f)?Fa(f):f,e):e(f)}}function L(a,b){Eb(I(a),a,arguments,1)}function Gb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Hb(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function I(a){return a.nodeType==9?a:a.ownerDocument||a.document}function Fb(a){if(a&&typeof a.length=="number")if(ga(a))return typeof a.item=="function"||typeof a.item=="string";else if(fa(a))return typeof a.item=="function";return p}function zb(a){this.ga=a||t.document||document}r=zb.prototype;r.Yb=yb;r.n=function(a){return z(a)?this.ga.getElementById(a):a};r.Ab=function(a,b,c){return Db(this.ga,arguments)};r.createElement=function(a){return this.ga.createElement(a)};r.createTextNode=function(a){return this.ga.createTextNode(a)};
function Ib(a){var b=a.ga,a=!H?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new ob(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}r.appendChild=function(a,b){a.appendChild(b)};r.contains=Hb;function Jb(){}Jb.prototype.Rd=p;Jb.prototype.i=function(){if(!this.Rd)this.Rd=k,this.p()};Jb.prototype.p=function(){this.Xe&&Kb.apply(n,this.Xe)};function Kb(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];da(d)?Kb.apply(n,d):d&&typeof d.i=="function"&&d.i()}};var Lb,Mb=!F||ib(),Nb=F&&!gb("8");function M(a,b){this.type=a;this.currentTarget=this.target=b}C(M,Jb);M.prototype.p=function(){delete this.type;delete this.target;delete this.currentTarget};M.prototype.Lb=p;M.prototype.dc=k;M.prototype.preventDefault=function(){this.dc=p};function Ob(a){a.preventDefault()};function Pb(a){Pb[" "](a);return a}Pb[" "]=u;function Qb(a,b){a&&this.Ua(a,b)}C(Qb,M);var Rb=[1,4,2];r=Qb.prototype;r.target=n;r.relatedTarget=n;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=p;r.altKey=p;r.shiftKey=p;r.metaKey=p;r.Tf=p;r.Y=n;
r.Ua=function(a,b){var c=this.type=a.type;M.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Va){var e;a:{try{Pb(d.nodeName);e=k;break a}catch(f){}e=p}e||(d=n)}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==j?a.offsetX:a.layerX;this.offsetY=a.offsetY!==j?a.offsetY:a.layerY;this.clientX=a.clientX!==j?a.clientX:a.pageX;this.clientY=a.clientY!==j?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Tf=Qa?a.metaKey:a.ctrlKey;this.state=a.state;this.Y=a;delete this.dc;delete this.Lb};function Sb(a,b){return Mb?a.Y.button==b:a.type=="click"?b==0:!!(a.Y.button&Rb[b])}
r.preventDefault=function(){Qb.o.preventDefault.call(this);var a=this.Y;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Nb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};r.bf=aa("Y");r.p=function(){Qb.o.p.call(this);this.relatedTarget=this.currentTarget=this.target=this.Y=n};function Ub(){}var Vb=0;r=Ub.prototype;r.key=0;r.rb=p;r.Ld=p;r.Ua=function(a,b,c,d,e,f){fa(a)?this.ie=k:a&&a.handleEvent&&fa(a.handleEvent)?this.ie=p:g(Error("Invalid listener argument"));this.Gb=a;this.ue=b;this.src=c;this.type=d;this.capture=!!e;this.xc=f;this.Ld=p;this.key=++Vb;this.rb=p};r.handleEvent=function(a){return this.ie?this.Gb.call(this.xc||this.src,a):this.Gb.handleEvent.call(this.Gb,a)};function Wb(a,b){this.ne=b;this.jb=[];a>this.ne&&g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.jb.push(this.Aa?this.Aa():{})}C(Wb,Jb);Wb.prototype.Aa=n;Wb.prototype.Qd=n;function Xb(a){return a.jb.length?a.jb.pop():a.Aa?a.Aa():{}}function Yb(a,b){a.jb.length<a.ne?a.jb.push(b):Zb(a,b)}function Zb(a,b){if(a.Qd)a.Qd(b);else if(ga(b))if(fa(b.i))b.i();else for(var c in b)delete b[c]}
Wb.prototype.p=function(){Wb.o.p.call(this);for(var a=this.jb;a.length;)Zb(this,a.pop());delete this.jb};var $b,ac=($b="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";var bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc;
(function(){function a(){return{h:0,ma:0}}function b(){return[]}function c(){function a(b){b=h.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new Ub}function e(){return new Qb}var f=$b&&!(za(ac,"5.7")>=0),h;gc=function(a){h=a};if(f){bc=function(){return Xb(i)};cc=function(a){Yb(i,a)};dc=function(){return Xb(l)};ec=function(a){Yb(l,a)};fc=function(){return Xb(m)};hc=function(){Yb(m,c())};ic=function(){return Xb(q)};jc=function(a){Yb(q,a)};kc=function(){return Xb(o)};lc=function(a){Yb(o,
a)};var i=new Wb(0,600);i.Aa=a;var l=new Wb(0,600);l.Aa=b;var m=new Wb(0,600);m.Aa=c;var q=new Wb(0,600);q.Aa=d;var o=new Wb(0,600);o.Aa=e}else bc=a,cc=u,dc=b,ec=u,fc=c,hc=u,ic=d,jc=u,kc=e,lc=u})();var mc={},N={},nc={},oc={};
function O(a,b,c,d,e){if(b)if(y(b)){for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);return n}else{var d=!!d,h=N;b in h||(h[b]=bc());h=h[b];d in h||(h[d]=bc(),h.h++);var h=h[d],i=ha(a),l;h.ma++;if(h[i]){l=h[i];for(f=0;f<l.length;f++)if(h=l[f],h.Gb==c&&h.xc==e){if(h.rb)break;return l[f].key}}else l=h[i]=dc(),h.h++;f=fc();f.src=a;h=ic();h.Ua(c,f,a,b,d,e);c=h.key;f.key=c;l.push(h);mc[c]=h;nc[i]||(nc[i]=dc());nc[i].push(h);a.addEventListener?(a==t||!a.Od)&&a.addEventListener(b,f,d):a.attachEvent(b in oc?oc[b]:
oc[b]="on"+b,f);return c}else g(Error("Invalid event type"))}function pc(a,b,c,d,e){if(y(b))for(var f=0;f<b.length;f++)pc(a,b[f],c,d,e);else if(d=!!d,a=qc(a,b,d))for(f=0;f<a.length;f++)if(a[f].Gb==c&&a[f].capture==d&&a[f].xc==e){P(a[f].key);break}}
function P(a){if(!mc[a])return p;var b=mc[a];if(b.rb)return p;var c=b.src,d=b.type,e=b.ue,f=b.capture;c.removeEventListener?(c==t||!c.Od)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in oc?oc[d]:oc[d]="on"+d,e);c=ha(c);e=N[d][f][c];if(nc[c]){var h=nc[c];Da(h,b);h.length==0&&delete nc[c]}b.rb=k;e.re=k;rc(d,f,c,e);delete mc[a];return k}
function rc(a,b,c,d){if(!d.Dc&&d.re){for(var e=0,f=0;e<d.length;e++)if(d[e].rb){var h=d[e].ue;h.src=n;hc(h);jc(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.re=p;f==0&&(ec(d),delete N[a][b][c],N[a][b].h--,N[a][b].h==0&&(cc(N[a][b]),delete N[a][b],N[a].h--),N[a].h==0&&(cc(N[a]),delete N[a]))}}
function sc(a){var b,c=0,d=b==n;b=!!b;if(a==n)rb(nc,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)P(f.key),c++}});else if(a=ha(a),nc[a])for(var a=nc[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture)P(f.key),c++}}function qc(a,b,c){var d=N;return b in d&&(d=d[b],c in d&&(d=d[c],a=ha(a),d[a]))?d[a]:n}
function tc(a,b,c,d,e){var f=1,b=ha(b);if(a[b]){a.ma--;a=a[b];a.Dc?a.Dc++:a.Dc=1;try{for(var h=a.length,i=0;i<h;i++){var l=a[i];l&&!l.rb&&(f&=uc(l,e)!==p)}}finally{a.Dc--,rc(c,d,b,a)}}return Boolean(f)}function uc(a,b){var c=a.handleEvent(b);a.Ld&&P(a.key);return c}
gc(function(a,b){if(!mc[a])return k;var c=mc[a],d=c.type,e=N;if(!(d in e))return k;var e=e[d],f,h;Lb===j&&(Lb=F&&!t.addEventListener);if(Lb){var i;if(!(i=b))a:{i="window.event".split(".");for(var l=t;f=i.shift();)if(x(l[f]))l=l[f];else{i=n;break a}i=l}f=i;i=k in e;l=p in e;if(i){if(f.keyCode<0||f.returnValue!=j)return k;a:{var m=p;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(q){m=k}if(m||f.returnValue==j)f.returnValue=k}}m=kc();m.Ua(f,this);f=k;try{if(i){for(var o=dc(),G=m.currentTarget;G;G=G.parentNode)o.push(G);
h=e[k];h.ma=h.h;for(var s=o.length-1;!m.Lb&&s>=0&&h.ma;s--)m.currentTarget=o[s],f&=tc(h,o[s],d,k,m);if(l){h=e[p];h.ma=h.h;for(s=0;!m.Lb&&s<o.length&&h.ma;s++)m.currentTarget=o[s],f&=tc(h,o[s],d,p,m)}}else f=uc(c,m)}finally{if(o)o.length=0,ec(o);m.i();lc(m)}return f}d=new Qb(b,this);try{f=uc(c,d)}finally{d.i()}return f});function vc(a){this.de=a;this.t=[]}C(vc,Jb);var wc=[];function Q(a,b,c,d,e){y(c)||(wc[0]=c,c=wc);for(var f=0;f<c.length;f++)a.t.push(O(b,c[f],d||a,e||p,a.de||a));return a}function xc(a,b,c,d,e,f){if(y(c))for(var h=0;h<c.length;h++)xc(a,b,c[h],d,e,f);else{a:{d=d||a;f=f||a.de||a;e=!!e;if(b=qc(b,c,e))for(c=0;c<b.length;c++)if(!b[c].rb&&b[c].Gb==d&&b[c].capture==e&&b[c].xc==f){b=b[c];break a}b=n}if(b)b=b.key,P(b),Da(a.t,b)}return a}function yc(a){E(a.t,P);a.t.length=0}
vc.prototype.p=function(){vc.o.p.call(this);yc(this)};vc.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function R(){}C(R,Jb);r=R.prototype;r.Od=k;r.Jc=n;r.yd=function(a){this.Jc=a};r.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){pc(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=N;if(b in c){if(z(a))a=new M(a,this);else if(a instanceof M)a.target=a.target||this;else{var d=a,a=new M(b,this);xb(a,d)}var d=1,e,c=c[b],b=k in c,f;if(b){e=[];for(f=this;f;f=f.Jc)e.push(f);f=c[k];f.ma=f.h;for(var h=e.length-1;!a.Lb&&h>=0&&f.ma;h--)a.currentTarget=e[h],d&=tc(f,e[h],a.type,k,a)&&a.dc!=p}if(p in c)if(f=c[p],f.ma=f.h,b)for(h=0;!a.Lb&&h<e.length&&f.ma;h++)a.currentTarget=e[h],d&=tc(f,e[h],a.type,p,a)&&a.dc!=p;else for(e=this;!a.Lb&&e&&f.ma;e=
e.Jc)a.currentTarget=e,d&=tc(f,e,a.type,p,a)&&a.dc!=p;a=Boolean(d)}else a=k;return a};r.p=function(){R.o.p.call(this);sc(this);this.Jc=n};function zc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}zc.prototype.R=function(){return new zc(this.top,this.right,this.bottom,this.left)};zc.prototype.contains=function(a){return!this||!a?p:a instanceof zc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Ac(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Ac.prototype.R=function(){return new Ac(this.left,this.top,this.width,this.height)};Ac.prototype.contains=function(a){return a instanceof Ac?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Ac.prototype.Ca=function(){return new pb(this.width,this.height)};function Bc(a){var b;a:{b=I(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,n))){b=b.position||b.getPropertyValue("position");break a}b=""}return b||(a.currentStyle?a.currentStyle.position:n)||a.style.position}function Cc(a){var b=a.getBoundingClientRect();if(F)a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop;return b}
function Dc(a){if(F)return a.offsetParent;for(var b=I(a),c=Bc(a),d=c=="fixed"||c=="absolute",a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Bc(a),d=d&&c=="static"&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a;return n}
function Ec(a){var b=new ob;if(a.nodeType==1)if(a.getBoundingClientRect)a=Cc(a),b.x=a.left,b.y=a.top;else{var c=Ib(yb(a));var d,e=I(a),f=Bc(a),h=Va&&e.getBoxObjectFor&&!a.getBoundingClientRect&&f=="absolute"&&(d=e.getBoxObjectFor(a))&&(d.screenX<0||d.screenY<0),i=new ob(0,0),l;d=e?e.nodeType==9?e:I(e):document;if(l=F)if(l=!ib())yb(d),l=p;l=l?d.body:d.documentElement;if(a!=l)if(a.getBoundingClientRect)d=Cc(a),a=Ib(yb(e)),i.x=d.left+a.x,i.y=d.top+a.y;else if(e.getBoxObjectFor&&!h)d=e.getBoxObjectFor(a),
a=e.getBoxObjectFor(l),i.x=d.screenX-a.screenX,i.y=d.screenY-a.screenY;else{h=a;do{i.x+=h.offsetLeft;i.y+=h.offsetTop;h!=a&&(i.x+=h.clientLeft||0,i.y+=h.clientTop||0);if(H&&Bc(h)=="fixed"){i.x+=e.body.scrollLeft;i.y+=e.body.scrollTop;break}h=h.offsetParent}while(h&&h!=a);if(Ua||H&&f=="absolute")i.y-=e.body.offsetTop;for(h=a;(h=Dc(h))&&h!=e.body&&h!=l;)if(i.x-=h.scrollLeft,!Ua||h.tagName!="TR")i.y-=h.scrollTop}b.x=i.x-c.x;b.y=i.y-c.y}else c=fa(a.bf),i=a,a.targetTouches?i=a.targetTouches[0]:c&&a.Y.targetTouches&&
(i=a.Y.targetTouches[0]),b.x=i.clientX,b.y=i.clientY;return b}function Fc(a,b){a.style.display=b?"":"none"};function Gc(){}(function(a){a.Xd=function(){return a.mf||(a.mf=new a)}})(Gc);Gc.prototype.Lf=0;Gc.Xd();function Hc(a){this.Ub=a||yb();this.Xf=Ic}C(Hc,R);Hc.prototype.jf=Gc.Xd();var Ic=n;r=Hc.prototype;r.kb=n;r.Fb=p;r.z=n;r.Xf=n;r.Hf=n;r.Kc=n;r.pc=n;r.Rb=n;r.Fe=p;r.n=aa("z");r.Db=function(){return this.Eb||(this.Eb=new vc(this))};r.yd=function(a){this.Kc&&this.Kc!=a&&g(Error("Method not supported"));Hc.o.yd.call(this,a)};r.Yb=aa("Ub");r.Ab=function(){this.z=this.Ub.createElement("div")};
function Jc(a){var b=S;if(b.Fb)g(Error("Component already rendered"));else if(a){b.Fe=k;if(!b.Ub||b.Ub.ga!=I(a))b.Ub=yb(a);b.rc(a);b.uc()}else g(Error("Invalid element to decorate"))}r.rc=function(a){this.z=a};r.uc=function(){this.Fb=k;Kc(this,function(a){!a.Fb&&a.n()&&a.uc()})};r.Wb=function(){Kc(this,function(a){a.Fb&&a.Wb()});this.Eb&&yc(this.Eb);this.Fb=p};
r.p=function(){Hc.o.p.call(this);this.Fb&&this.Wb();this.Eb&&(this.Eb.i(),delete this.Eb);Kc(this,function(a){a.i()});!this.Fe&&this.z&&Gb(this.z);this.Kc=this.Hf=this.z=this.Rb=this.pc=n};function Kc(a,b){a.pc&&E(a.pc,b,j)}
r.removeChild=function(a,b){if(a){var c=z(a)?a:a.kb||(a.kb=":"+(a.jf.Lf++).toString(36)),a=this.Rb&&c?(c in this.Rb?this.Rb[c]:j)||n:n;if(c&&a){var d=this.Rb;c in d&&delete d[c];Da(this.pc,a);b&&(a.Wb(),a.z&&Gb(a.z));c=a;c==n&&g(Error("Unable to set parent component"));c.Kc=n;Hc.o.yd.call(c,n)}}a||g(Error("Child is not in parent component"));return a};function Lc(a,b){this.yc=a||1;this.hc=b||Mc;this.Uc=A(this.ag,this);this.md=B()}C(Lc,R);Lc.prototype.enabled=p;var Mc=t.window;r=Lc.prototype;r.wb=n;r.ag=function(){if(this.enabled){var a=B()-this.md;if(a>0&&a<this.yc*0.8)this.wb=this.hc.setTimeout(this.Uc,this.yc-a);else if(this.dispatchEvent(Nc),this.enabled)this.wb=this.hc.setTimeout(this.Uc,this.yc),this.md=B()}};r.start=function(){this.enabled=k;if(!this.wb)this.wb=this.hc.setTimeout(this.Uc,this.yc),this.md=B()};
r.stop=function(){this.enabled=p;if(this.wb)this.hc.clearTimeout(this.wb),this.wb=n};r.p=function(){Lc.o.p.call(this);this.stop();delete this.hc};var Nc="tick";function Oc(a){fa(a)||(a&&typeof a.handleEvent=="function"?a=A(a.handleEvent,a):g(Error("Invalid listener argument")));return Mc.setTimeout(a,500)};function Pc(a,b,c,d,e){if(!F&&(!H||!gb("525")))return k;if(Qa&&e)return Qc(a);if(e&&!d)return p;if(!c&&(b==17||b==18))return p;if(F&&d&&b==a)return p;switch(a){case 13:return!(F&&ib());case 27:return!H}return Qc(a)}
function Qc(a){if(a>=48&&a<=57)return k;if(a>=96&&a<=106)return k;if(a>=65&&a<=90)return k;if(H&&a==0)return k;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return k;default:return p}};function Rc(a,b){a&&this.Tc(a,b)}C(Rc,R);r=Rc.prototype;r.z=n;r.Ac=n;r.jd=n;r.Bc=n;r.Wa=-1;r.Va=-1;
var Sc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Tc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Uc={61:187,59:186},Vc=F||H&&gb("525");r=Rc.prototype;
r.fd=function(a){if(H&&(this.Wa==17&&!a.ctrlKey||this.Wa==18&&!a.altKey))this.Va=this.Wa=-1;Vc&&!Pc(a.keyCode,this.Wa,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.Va=Va&&a.keyCode in Uc?Uc[a.keyCode]:a.keyCode};r.df=function(){this.Va=this.Wa=-1};
r.handleEvent=function(a){var b=a.Y,c,d;F&&a.type=="keypress"?(c=this.Va,d=c!=13&&c!=27?b.keyCode:0):H&&a.type=="keypress"?(c=this.Va,d=b.charCode>=0&&b.charCode<63232&&Qc(c)?b.charCode:0):Ua?(c=this.Va,d=Qc(c)?b.keyCode:0):(c=b.keyCode||this.Va,d=b.charCode||0,Qa&&d==63&&!c&&(c=191));var e=c,f=b.keyIdentifier;c?c>=63232&&c in Sc?e=Sc[c]:c==25&&a.shiftKey&&(e=9):f&&f in Tc&&(e=Tc[f]);a=e==this.Wa;this.Wa=e;b=new Wc(e,d,a,b);try{this.dispatchEvent(b)}finally{b.i()}};r.n=aa("z");
r.Tc=function(a,b){this.Bc&&this.detach();this.z=a;this.Ac=O(this.z,"keypress",this,b);this.jd=O(this.z,"keydown",this.fd,b,this);this.Bc=O(this.z,"keyup",this.df,b,this)};r.detach=function(){if(this.Ac)P(this.Ac),P(this.jd),P(this.Bc),this.Bc=this.jd=this.Ac=n;this.z=n;this.Va=this.Wa=-1};r.p=function(){Rc.o.p.call(this);this.detach()};function Wc(a,b,c,d){d&&this.Ua(d,j);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}C(Wc,Qb);function T(a,b,c){return Math.min(Math.max(a,b),c)}function U(a,b){var c=a%b;return c*b<0?c+b:c}function V(a){return a*Math.PI/180};function Xc(a){this.z=a;this.w=O(this.z,Va?"DOMMouseScroll":"mousewheel",this)}C(Xc,R);
Xc.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.Y;if(a.type=="mousewheel"){c=1;if(F||H&&(Ya||gb("532.0")))c=40;d=H&&Qa&&-a.wheelDelta%c!=0?-a.wheelDelta:-a.wheelDelta/c;v(a.wheelDeltaX)?(b=H&&Qa&&-a.wheelDeltaX%c!=0?-a.wheelDeltaX:-a.wheelDeltaX/c,c=H&&Qa&&-a.wheelDeltaY%c!=0?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,d>100?d=3:d<-100&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ea(this.oe)&&(b=T(b,-this.oe,this.oe));ea(this.pe)&&(c=T(c,-this.pe,this.pe));b=new Yc(d,a,
b,c);try{this.dispatchEvent(b)}finally{b.i()}};Xc.prototype.p=function(){Xc.o.p.call(this);P(this.w);delete this.w};function Yc(a,b,c,d){b&&this.Ua(b,j);this.type="mousewheel";this.detail=a;this.Cb=c;this.Oa=d}C(Yc,Qb);function W(a,b,c,d){(!y(a)||!y(b))&&g(Error("Start and end parameters must be arrays"));a.length!=b.length&&g(Error("Start and end points must be the same length"));this.Nb=a;this.Ze=b;this.duration=c;this.Jd=d;this.coords=[]}C(W,R);var vb={},Zc=n;function $c(){ad();var a=B(),b;for(b in vb)bd(vb[b],a);Zc=ub()?n:Mc.setTimeout($c,20)}function ad(){Zc&&(Mc.clearTimeout(Zc),Zc=n)}function cd(a){a=ha(a);delete vb[a];ub()&&ad()}r=W.prototype;r.na=0;r.Wd=0;r.K=0;r.startTime=n;r.Ud=n;r.ld=n;
r.play=function(a){if(a||this.na==0)this.K=0,this.coords=this.Nb;else if(this.na==1)return p;cd(this);this.startTime=a=B();this.na==-1&&(this.startTime-=this.duration*this.K);this.Ud=this.startTime+this.duration;this.ld=this.startTime;this.K||this.Fa();dd(this,"play");this.na==-1&&this.ud();this.na=1;var b=ha(this);b in vb||(vb[b]=this);Zc||(Zc=Mc.setTimeout($c,20));bd(this,a);return k};r.stop=function(a){cd(this);this.na=0;if(a)this.K=1;ed(this,this.K);this.vd();this.Jb()};
r.p=function(){this.na!=0&&this.stop(p);this.pd();W.o.p.call(this)};function bd(a,b){a.K=(b-a.startTime)/(a.Ud-a.startTime);if(a.K>=1)a.K=1;a.Wd=1E3/(b-a.ld);a.ld=b;ed(a,a.K);a.K==1?(a.na=0,cd(a),dd(a,"finish"),a.Jb()):a.na==1&&a.od()}function ed(a,b){fa(a.Jd)&&(b=a.Jd(b));a.coords=Array(a.Nb.length);for(var c=0;c<a.Nb.length;c++)a.coords[c]=(a.Ze[c]-a.Nb[c])*b+a.Nb[c]}r.od=function(){dd(this,"animate")};r.Fa=function(){dd(this,"begin")};r.pd=function(){dd(this,"destroy")};
r.Jb=function(){dd(this,"end")};r.ud=function(){dd(this,"resume")};r.vd=function(){dd(this,"stop")};function dd(a,b){a.dispatchEvent(new fd(b,a))}function fd(a,b){M.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.r=b.coords[2];this.duration=b.duration;this.K=b.K;this.bd=b.Wd;this.state=b.na;this.ig=b}C(fd,M);function X(){W.call(this,[0],[0],0);this.L=[]}C(X,W);X.prototype.ud=function(){this.ad(function(a){a.play(a.K==0)});X.o.ud.call(this)};X.prototype.vd=function(){this.ad(function(a){a.stop()});X.o.vd.call(this)};X.prototype.pd=function(){this.Pd();X.o.pd.call(this)};X.prototype.Pd=function(){E(this.L,function(a){a.i()})};function gd(){X.call(this)}C(gd,X);gd.prototype.Fa=function(){for(var a=0;a<this.L.length;a++)this.L[a].play();gd.o.Fa.call(this)};gd.prototype.ad=function(a){E(this.L,a)};
gd.prototype.add=function(a){this.L.push(a);this.duration=Math.max(this.duration,a.duration)};gd.prototype.remove=function(a){if(Da(this.L,a)&&a.duration==this.duration)this.duration=0,E(this.L,function(a){this.duration=Math.max(a.duration,this.duration)},this)};function hd(){X.call(this);this.Xc=new vc(this)}C(hd,X);r=hd.prototype;r.eb=0;r.Fa=function(){id(this);hd.o.Fa.call(this)};r.Jb=function(){jd(this);hd.o.Jb.call(this)};function jd(a){a.eb=0;yc(a.Xc)}
function id(a){a.na==-1&&(jd(a),E(a.L,function(a){a.K=0;ed(a,a.K);a.stop()}));a.L[a.eb].play();a.eb++;a.eb<a.L.length&&Q(a.Xc,a.L[a.eb-1],"finish",function(){id(this)})}r.add=function(a){this.L.push(a);this.duration+=a.duration};r.remove=function(a){Da(this.L,a)&&(this.duration-=a.duration)};r.ad=function(a){this.eb>0&&a(this.L[this.eb-1])};r.Pd=function(){E(this.L,function(a){a.i()});this.Xc.i()};function kd(a,b,c){this.target=a;this.handle=b||a;this.ke=c||new Ac(NaN,NaN,NaN,NaN);this.ga=I(a);this.sa=new vc(this);O(this.handle,["touchstart","mousedown"],this.ye,p,this)}C(kd,R);var ld=F||Va&&gb("1.9.3");r=kd.prototype;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.ze=0;r.Ae=0;r.Cb=0;r.Oa=0;r.Td=k;r.X=p;r.ee=0;r.If=0;r.kf=p;r.Db=aa("sa");r.p=function(){kd.o.p.call(this);pc(this.handle,["touchstart","mousedown"],this.ye,p,this);this.sa.i();delete this.target;delete this.handle;delete this.sa};
r.ye=function(a){var b=a.type=="mousedown";if(this.Td&&!this.X&&(!b||Sb(a,0)&&(!H||!Qa||!a.ctrlKey))){md(a);if(this.ee==0)if(nd(this,a),this.X)a.preventDefault();else return;else a.preventDefault();var b=this.ga,c=b.documentElement,d=!ld;Q(this.sa,b,["touchmove","mousemove"],this.gf,d);Q(this.sa,b,["touchend","mouseup"],this.sc,d);ld?(c.setCapture(p),Q(this.sa,c,"losecapture",this.sc)):Q(this.sa,b?b.parentWindow||b.defaultView:window,"blur",this.sc);F&&this.kf&&Q(this.sa,b,"dragstart",Ob);this.Zf&&
Q(this.sa,this.Zf,"scroll",this.Qf,d);this.clientX=this.ze=a.clientX;this.clientY=this.Ae=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Cb=this.target.offsetLeft;this.Oa=this.target.offsetTop;this.wd=Ib(yb(this.ga));this.If=B()}else this.dispatchEvent("earlycancel")};function nd(a,b){if(a.dispatchEvent(new od("start",a,b.clientX,b.clientY,b))!==p)a.X=k}
r.sc=function(a,b){yc(this.sa);ld&&this.ga.releaseCapture();var c=pd(this,this.Cb),d=qd(this,this.Oa);this.X?(md(a),this.X=p,this.dispatchEvent(new od("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))):this.dispatchEvent("earlycancel");(a.type=="touchend"||a.type=="touchcancel")&&a.preventDefault()};function md(a){var b=a.type;b=="touchstart"||b=="touchmove"?a.Ua(a.Y.targetTouches[0],a.currentTarget):(b=="touchend"||b=="touchcancel")&&a.Ua(a.Y.changedTouches[0],a.currentTarget)}
r.gf=function(a){if(this.Td){md(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.X){var d=this.ze-this.clientX,e=this.Ae-this.clientY;if(d*d+e*e>this.ee&&(nd(this,a),!this.X)){this.sc(a);return}}c=rd(this,b,c);b=c.x;c=c.y;this.X&&this.dispatchEvent(new od("beforedrag",this,a.clientX,a.clientY,a,b,c))!==p&&(sd(this,a,b,c),a.preventDefault())}};
function rd(a,b,c){var d=Ib(yb(a.ga));b+=d.x-a.wd.x;c+=d.y-a.wd.y;a.wd=d;a.Cb+=b;a.Oa+=c;b=pd(a,a.Cb);a=qd(a,a.Oa);return new ob(b,a)}r.Qf=function(a){var b=rd(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;sd(this,a,b.x,b.y)};function sd(a,b,c,d){a.Zc(c,d);a.dispatchEvent(new od("drag",a,b.clientX,b.clientY,b,c,d))}function pd(a,b){var c=a.ke,d=!isNaN(c.left)?c.left:n,c=!isNaN(c.width)?c.width:0;return Math.min(d!=n?d+c:Infinity,Math.max(d!=n?d:-Infinity,b))}
function qd(a,b){var c=a.ke,d=!isNaN(c.top)?c.top:n,c=!isNaN(c.height)?c.height:0;return Math.min(d!=n?d+c:Infinity,Math.max(d!=n?d:-Infinity,b))}r.Zc=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};function od(a,b,c,d,e,f,h,i){M.call(this,a);this.clientX=c;this.clientY=d;this.jg=e;this.left=v(f)?f:b.Cb;this.top=v(h)?h:b.Oa;this.Sd=b;this.ng=!!i}C(od,M);function Y(a,b,c,d,e){W.call(this,b,c,d,e);this.element=a}C(Y,W);Y.prototype.Ob=u;Y.prototype.od=function(){this.Ob();Y.o.od.call(this)};Y.prototype.Jb=function(){this.Ob();Y.o.Jb.call(this)};Y.prototype.Fa=function(){this.Ob();Y.o.Fa.call(this)};function td(a,b,c,d,e){(b.length!=2||c.length!=2)&&g(Error("Start and end points must be 2D"));Y.apply(this,arguments)}C(td,Y);
td.prototype.Ob=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function ud(a,b,c,d){td.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}C(ud,td);ud.prototype.Fa=function(){this.Nb=[this.element.offsetLeft,this.element.offsetTop];ud.o.Fa.call(this)};function vd(a,b,c,d,e){Y.call(this,a,[b],[c],d,e)}C(vd,Y);vd.prototype.Ob=function(){this.element.style.width=Math.round(this.coords[0])+"px"};
function wd(a,b,c,d,e){Y.call(this,a,[b],[c],d,e)}C(wd,Y);wd.prototype.Ob=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function xd(){}C(xd,R);r=xd.prototype;r.xb=0;r.ka=0;r.$=100;r.N=0;r.bb=1;r.O=p;r.nb=p;r.Ha=function(a){a=yd(this,a);if(this.xb!=a)this.xb=a+this.N>this.$?this.$-this.N:a<this.ka?this.ka:a,!this.O&&!this.nb&&this.dispatchEvent("change")};r.v=function(){return yd(this,this.xb)};r.ab=function(a){a=yd(this,a);if(this.N!=a)this.N=a<0?0:this.xb+a>this.$?this.$-this.xb:a,!this.O&&!this.nb&&this.dispatchEvent("change")};r.ia=function(){return this.bb==n?this.N:Math.round(this.N/this.bb)*this.bb};
r.Nc=function(a){if(this.ka!=a){var b=this.O;this.O=k;this.ka=a;if(a+this.N>this.$)this.N=this.$-this.ka;a>this.xb&&this.Ha(a);if(a>this.$)this.N=0,this.ec(a),this.Ha(a);this.O=b;!this.O&&!this.nb&&this.dispatchEvent("change")}};r.A=function(){return yd(this,this.ka)};r.ec=function(a){a=yd(this,a);if(this.$!=a){var b=this.O;this.O=k;this.$=a;a<this.xb+this.N&&this.Ha(a-this.N);if(a<this.ka)this.N=0,this.Nc(a),this.Ha(this.$);if(a<this.ka+this.N)this.N=this.$-this.ka;this.O=b;!this.O&&!this.nb&&this.dispatchEvent("change")}};
r.C=function(){return yd(this,this.$)};r.Ad=function(a){if(this.bb!=a)this.bb=a,a=this.O,this.O=k,this.ec(this.C()),this.ab(this.ia()),this.Ha(this.v()),this.O=a,!this.O&&!this.nb&&this.dispatchEvent("change")};function yd(a,b){return a.bb==n?b:a.ka+Math.round((b-a.ka)/a.bb)*a.bb};function zd(a){Hc.call(this,a);this.f=new xd;O(this.f,"change",this.hf,p,this)}C(zd,Hc);r=zd.prototype;r.la="horizontal";r.zc=p;r.qe=p;r.Ka=10;r.bc=0;r.Ab=function(){zd.o.Ab.call(this);this.rc(this.Yb().Ab("div","goog-twothumbslider-"+this.la))};
r.rc=function(a){zd.o.rc.call(this,a);mb(a,"goog-twothumbslider-"+this.la);var a=Ab(n,"goog-twothumbslider-value-thumb",this.n())[0],b=Ab(n,"goog-twothumbslider-extent-thumb",this.n())[0],c=Ab(n,"goog-twothumbslider-rangehighlight",this.n())[0];a||(a=Ad(this,"goog-twothumbslider-value-thumb"),this.n().appendChild(a));b||(b=Ad(this,"goog-twothumbslider-extent-thumb"),this.n().appendChild(b));c||(c=this.Yb().Ab("div","goog-twothumbslider-rangehighlight"),this.Yb(),a.parentNode&&a.parentNode.insertBefore(c,
a));this.s=a;this.Z=b;this.D=c;a=this.n();a.setAttribute("role","slider");a.Yf="slider";Bd(this)};
r.uc=function(){zd.o.uc.call(this);this.Ja=new kd(this.s);this.hb=new kd(this.Z);this.Ja.Zc=this.hb.Zc=u;this.Zb=new Rc(this.n());this.Xa=new Xc(this.n());Q(Q(Q(Q(Q(Q(Q(this.Db(),this.Ja,"beforedrag",this.$d),this.hb,"beforedrag",this.$d),this.Ja,["start","end"],this.be),this.hb,["start","end"],this.be),this.Zb,"key",this.fd),this.n(),"mousedown",this.ef),this.Xa,"mousewheel",this.ff);this.n().tabIndex=0;Cd(this)};r.Wb=function(){zd.o.Wb.call(this);Kb(this.Ja,this.hb,this.Zb,this.Xa)};
r.$d=function(a){var b=a.Sd==this.Ja?this.s:this.Z,c;this.la=="vertical"?(c=this.n().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.C()-this.A())+this.A()):c=a.left/(this.n().clientWidth-b.offsetWidth)*(this.C()-this.A())+this.A();c=a.Sd==this.Ja?Math.min(Math.max(c,this.A()),this.v()+this.ia()):Math.min(Math.max(c,this.v()),this.C());Dd(this,b,c)};
r.be=function(a){var b=a.type=="start",c=this.n();b?mb(c,"goog-slider-dragging"):nb(c,"goog-slider-dragging");a=a.target.handle;b?mb(a,"goog-slider-thumb-dragging"):nb(a,"goog-slider-thumb-dragging")};
r.fd=function(a){var b=k;switch(a.keyCode){case 36:Ed(this,this.A());break;case 35:Ed(this,this.C());break;case 33:Fd(this,this.Ka);break;case 34:Fd(this,-this.Ka);break;case 37:case 40:Fd(this,a.shiftKey?-this.Ka:-this.Fd);break;case 39:case 38:Fd(this,a.shiftKey?this.Ka:this.Fd);break;default:b=p}b&&a.preventDefault()};
r.ef=function(a){this.n().focus&&this.n().focus();var b=a.target;if(!Hb(this.s,b)&&!Hb(this.Z,b))if(this.qe)Ed(this,Gd(this,a));else{this.Bd(a);this.da=Hd(this,Gd(this,a));this.fe=this.la=="vertical"?this.Cc<this.da.offsetTop:this.Cc>this.da.offsetLeft+this.da.offsetWidth;a=I(this.n());Q(Q(this.Db(),a,"mouseup",this.ae,k),this.n(),"mousemove",this.Bd);if(!this.Ta)this.Ta=new Lc(200),Q(this.Db(),this.Ta,Nc,this.ce);this.ce();this.Ta.start()}};r.ff=function(a){Fd(this,(a.detail>0?-1:1)*this.Fd);a.preventDefault()};
r.ce=function(){var a;if(this.la=="vertical"){var b=this.Cc,c=this.da.offsetTop;this.fe?b<c&&(a=Id(this,this.da)+this.Ka):b>c+this.da.offsetHeight&&(a=Id(this,this.da)-this.Ka)}else b=this.Cc,c=this.da.offsetLeft,this.fe?b>c+this.da.offsetWidth&&(a=Id(this,this.da)+this.Ka):b<c&&(a=Id(this,this.da)-this.Ka);v(a)&&Dd(this,this.da,a)};r.ae=function(){this.Ta&&this.Ta.stop();var a=I(this.n());xc(xc(this.Db(),a,"mouseup",this.ae,k),this.n(),"mousemove",this.Bd)};
function Jd(a,b){var c,d=a.n();c=Ec(b);d=Ec(d);c=new ob(c.x-d.x,c.y-d.y);return a.la=="vertical"?c.y:c.x}r.Bd=function(a){this.Cc=Jd(this,a)};function Gd(a,b){var c=a.A(),d=a.C();if(a.la=="vertical"){var e=a.s.offsetHeight,f=a.n().clientHeight-e,e=Jd(a,b)-e/2;return(d-c)*(f-e)/f+c}else return e=a.s.offsetWidth,f=a.n().clientWidth-e,e=Jd(a,b)-e/2,(d-c)*e/f+c}
function Id(a,b){if(b==a.s)return a.f.v();else if(b==a.Z)return a.f.v()+a.f.ia();else g(Error("Illegal thumb element. Neither minThumb nor maxThumb"))}function Fd(a,b){var c=Id(a,a.s)+b,d=Id(a,a.Z)+b,c=T(c,a.A(),a.C()-a.bc),d=T(d,a.A()+a.bc,a.C());Kd(a,c,d-c)}function Dd(a,b,c){var d=n;b==a.Z&&c<=a.f.C()&&c>=a.f.v()+a.bc&&(d=c-a.f.v());var e=d||a.f.ia();b==a.s&&c>=a.A()&&c<=a.f.v()+e-a.bc&&(b=e-(c-a.f.v()),yd(a.f,c)+yd(a.f,b)==yd(a.f,c+b)&&(Kd(a,c,b),d=n));d!=n&&a.f.ab(d)}
function Kd(a,b,c){if(a.A()<=b&&b<=a.C()-c&&a.bc<=c&&c<=a.C()-b&&!(b==a.v()&&c==a.ia()))a.f.nb=k,a.f.ab(0),a.f.Ha(b),a.f.ab(c),a.f.nb=p,Cd(a),a.dispatchEvent("change")}r.A=function(){return this.f.A()};r.Nc=function(a){this.f.Nc(a)};r.C=function(){return this.f.C()};r.ec=function(a){this.f.ec(a)};function Hd(a,b){return b<=a.f.v()+a.f.ia()/2?a.s:a.Z}r.hf=function(){Cd(this);Bd(this);this.dispatchEvent("change")};
function Cd(a){if(a.s&&!a.zc){var b=Ld(a,Id(a,a.s)),c=Ld(a,Id(a,a.Z));if(a.la=="vertical"){if(a.s.style.top=b.y+"px",a.Z.style.top=c.y+"px",a.D)b=Md(c.y,b.y,a.s.offsetHeight),a.D.style.top=b.Ya+"px",a.D.style.height=b.size+"px"}else if(a.s.style.left=b.x+"px",a.Z.style.left=c.x+"px",a.D)b=Md(b.x,c.x,a.s.offsetWidth),a.D.style.left=b.Ya+"px",a.D.style.width=b.size+"px"}}function Md(a,b,c){var d=Math.ceil(c/2);return{Ya:a+d,size:Math.max(b-a+c-2*d,0)}}
function Ld(a,b){var c=new ob;if(a.s){var d=a.A(),e=a.C(),e=b==d&&d==e?0:(b-d)/(e-d);a.la=="vertical"?(d=a.n().clientHeight-a.s.offsetHeight,e=Math.round(e*d),c.y=d-e):(d=Math.round(e*(a.n().clientWidth-a.s.offsetWidth)),c.x=d)}return c}
function Ed(a,b){b=Math.min(a.C(),Math.max(b,a.A()));a.zc&&a.qc.stop(k);var c=new gd,d=Hd(a,b),e=Ld(a,b);c.add(new ud(d,a.la=="vertical"?[d.offsetLeft,e.y]:[e.x,d.offsetTop],100));if(a.D){var f=Ld(a,a.f.v()),h=Ld(a,a.f.v()+a.f.ia());d==a.s?f=e:h=e;a.la=="vertical"?(e=Md(h.y,f.y,a.s.offsetHeight),c.add(new ud(a.D,[a.D.offsetLeft,e.Ya],100)),c.add(new wd(a.D,a.D.offsetHeight,e.size,100))):(e=Md(f.x,h.x,a.s.offsetWidth),c.add(new ud(a.D,[e.Ya,a.D.offsetTop],100)),c.add(new vd(a.D,a.D.offsetWidth,e.size,
100)))}a.qc=c;Q(a.Db(),c,"end",a.Ye);a.zc=k;Dd(a,d,b);c.play(p)}r.Ye=function(){this.zc=p};r.p=function(){zd.o.p.call(this);this.Ta&&this.Ta.i();delete this.Ta;this.qc&&this.qc.i();delete this.qc;delete this.s;delete this.Z;this.D&&delete this.D;this.f.i();delete this.f;this.Zb&&(this.Zb.i(),delete this.Zb);this.Xa&&(this.Xa.i(),delete this.Xa);this.Ja&&(this.Ja.i(),delete this.Ja);this.hb&&(this.hb.i(),delete this.hb)};r.Fd=1;r.Ad=function(a){this.f.Ad(a)};r.v=function(){return this.f.v()};
r.Ha=function(a){Dd(this,this.s,a)};r.ia=function(){return this.f.ia()};r.ab=function(a){Dd(this,this.Z,this.f.v()+a)};function Bd(a){var b=a.n();if(b){var c=a.A();b.setAttribute("aria-valuemin",c);c=a.C();b.setAttribute("aria-valuemax",c);a=a.v();b.setAttribute("aria-valuenow",a)}};function Nd(a){zd.call(this,a);this.f.Ha(this.A());this.f.ab(this.C()-this.A())}C(Nd,zd);function Ad(a,b){var c=a.Yb().Ab("div",b);c.setAttribute("role","button");c.Yf="button";return c};function Od(a){if(typeof a.Qa=="function")return a.Qa();if(z(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return sb(a)}function Pd(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(da(a)||z(a))E(a,b,c);else{var d;if(typeof a.Pa=="function")d=a.Pa();else if(typeof a.Qa!="function")if(da(a)||z(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=tb(a);else d=j;for(var e=Od(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function Qd(a,b){this.va={};this.t=[];var c=arguments.length;if(c>1){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Qd?(c=a.Pa(),d=a.Qa()):(c=tb(a),d=sb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}r=Qd.prototype;r.h=0;r.Hd=0;r.ed=aa("h");r.Qa=function(){Rd(this);for(var a=[],b=0;b<this.t.length;b++)a.push(this.va[this.t[b]]);return a};r.Pa=function(){Rd(this);return this.t.concat()};
r.Na=function(a){return Sd(this.va,a)};r.$c=function(a,b){if(this===a)return k;if(this.h!=a.ed())return p;var c=b||Td;Rd(this);for(var d,e=0;d=this.t[e];e++)if(!c(this.get(d),a.get(d)))return p;return k};function Td(a,b){return a===b}r.clear=function(){this.va={};this.Hd=this.h=this.t.length=0};r.remove=function(a){return Sd(this.va,a)?(delete this.va[a],this.h--,this.Hd++,this.t.length>2*this.h&&Rd(this),k):p};
function Rd(a){if(a.h!=a.t.length){for(var b=0,c=0;b<a.t.length;){var d=a.t[b];Sd(a.va,d)&&(a.t[c++]=d);b++}a.t.length=c}if(a.h!=a.t.length){for(var e={},c=b=0;b<a.t.length;)d=a.t[b],Sd(e,d)||(a.t[c++]=d,e[d]=1),b++;a.t.length=c}}r.get=function(a,b){return Sd(this.va,a)?this.va[a]:b};r.set=function(a,b){Sd(this.va,a)||(this.h++,this.t.push(a),this.Hd++);this.va[a]=b};r.R=function(){return new Qd(this)};function Sd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Vd(a,b){var c;a instanceof Vd?(this.Mb(b==n?a.ta:b),Wd(this,a.$a),Xd(this,a.lc),Yd(this,a.gb),Zd(this,a.Kb),$d(this,a.pb),ae(this,a.wa.R()),be(this,a.Xb)):a&&(c=String(a).match(Ud))?(this.Mb(!!b),Wd(this,c[1]||"",k),Xd(this,c[2]||"",k),Yd(this,c[3]||"",k),Zd(this,c[4]),$d(this,c[5]||"",k),ae(this,c[6]||"",k),be(this,c[7]||"",k)):(this.Mb(!!b),this.wa=new ce(n,this,this.ta))}r=Vd.prototype;r.$a="";r.lc="";r.gb="";r.Kb=n;r.pb="";r.Xb="";r.nf=p;r.ta=p;
r.toString=function(){if(this.fa)return this.fa;var a=[];this.$a&&a.push(de(this.$a,ee),":");this.gb&&(a.push("//"),this.lc&&a.push(de(this.lc,ee),"@"),a.push(z(this.gb)?encodeURIComponent(this.gb):n),this.Kb!=n&&a.push(":",String(this.Kb)));this.pb&&(this.gb&&this.pb.charAt(0)!="/"&&a.push("/"),a.push(de(this.pb,this.pb.charAt(0)=="/"?fe:ge)));var b=String(this.wa);b&&a.push("?",b);this.Xb&&a.push("#",de(this.Xb,he));return this.fa=a.join("")};
r.R=function(){var a=this.$a,b=this.lc,c=this.gb,d=this.Kb,e=this.pb,f=this.wa.R(),h=this.Xb,i=new Vd(n,this.ta);a&&Wd(i,a);b&&Xd(i,b);c&&Yd(i,c);d&&Zd(i,d);e&&$d(i,e);f&&ae(i,f);h&&be(i,h);return i};function Wd(a,b,c){ie(a);delete a.fa;a.$a=c?b?decodeURIComponent(b):"":b;if(a.$a)a.$a=a.$a.replace(/:$/,"")}function Xd(a,b,c){ie(a);delete a.fa;a.lc=c?b?decodeURIComponent(b):"":b}function Yd(a,b,c){ie(a);delete a.fa;a.gb=c?b?decodeURIComponent(b):"":b}
function Zd(a,b){ie(a);delete a.fa;b?(b=Number(b),(isNaN(b)||b<0)&&g(Error("Bad port number "+b)),a.Kb=b):a.Kb=n}function $d(a,b,c){ie(a);delete a.fa;a.pb=c?b?decodeURIComponent(b):"":b}function ae(a,b,c){ie(a);delete a.fa;b instanceof ce?(a.wa=b,a.wa.kc=a,a.wa.Mb(a.ta)):(c||(b=de(b,je)),a.wa=new ce(b,a,a.ta))}function ke(a,b,c){ie(a);delete a.fa;y(c)||(c=[String(c)]);a=a.wa;le(a);me(a);b=ne(a,b);if(a.Na(b)){var d=a.q.get(b);y(d)?a.h-=d.length:a.h--}c.length>0&&(a.q.set(b,c),a.h+=c.length)}
function be(a,b,c){ie(a);delete a.fa;a.Xb=c?b?decodeURIComponent(b):"":b}function ie(a){a.nf&&g(Error("Tried to modify a read-only Uri"))}r.Mb=function(a){this.ta=a;this.wa&&this.wa.Mb(a);return this};var oe=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function de(a,b){var c=n;z(a)&&(c=a,oe.test(c)||(c=encodeURI(a)),c.search(b)>=0&&(c=c.replace(b,pe)));return c}function pe(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ee=/[#\/\?@]/g,ge=/[\#\?:]/g,fe=/[\#\?]/g,je=/[\#\?@]/g,he=/#/g;
function ce(a,b,c){this.Ba=a||n;this.kc=b||n;this.ta=!!c}function le(a){if(!a.q&&(a.q=new Qd,a.h=0,a.Ba))for(var b=a.Ba.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=n,f=n;d>=0?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=ne(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}r=ce.prototype;r.q=n;r.h=n;r.ed=function(){le(this);return this.h};
r.add=function(a,b){le(this);me(this);a=ne(this,a);if(this.Na(a)){var c=this.q.get(a);y(c)?c.push(b):this.q.set(a,[c,b])}else this.q.set(a,b);this.h++;return this};r.remove=function(a){le(this);a=ne(this,a);if(this.q.Na(a)){me(this);var b=this.q.get(a);y(b)?this.h-=b.length:this.h--;return this.q.remove(a)}return p};r.clear=function(){me(this);this.q&&this.q.clear();this.h=0};r.Na=function(a){le(this);a=ne(this,a);return this.q.Na(a)};
r.Pa=function(){le(this);for(var a=this.q.Qa(),b=this.q.Pa(),c=[],d=0;d<b.length;d++){var e=a[d];if(y(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};r.Qa=function(a){le(this);if(a)if(a=ne(this,a),this.Na(a)){var b=this.q.get(a);if(y(b))return b;else a=[],a.push(b)}else a=[];else for(var b=this.q.Qa(),a=[],c=0;c<b.length;c++){var d=b[c];y(d)?Ga(a,d):a.push(d)}return a};
r.set=function(a,b){le(this);me(this);a=ne(this,a);if(this.Na(a)){var c=this.q.get(a);y(c)?this.h-=c.length:this.h--}this.q.set(a,b);this.h++;return this};r.get=function(a,b){le(this);a=ne(this,a);if(this.Na(a)){var c=this.q.get(a);return y(c)?c[0]:c}else return b};
r.toString=function(){if(this.Ba)return this.Ba;if(!this.q)return"";for(var a=[],b=0,c=this.q.Pa(),d=0;d<c.length;d++){var e=c[d],f=na(e),e=this.q.get(e);if(y(e))for(var h=0;h<e.length;h++)b>0&&a.push("&"),a.push(f),e[h]!==""&&a.push("=",na(e[h])),b++;else b>0&&a.push("&"),a.push(f),e!==""&&a.push("=",na(e)),b++}return this.Ba=a.join("")};function me(a){delete a.Yc;delete a.Ba;a.kc&&delete a.kc.fa}
r.R=function(){var a=new ce;if(this.Yc)a.Yc=this.Yc;if(this.Ba)a.Ba=this.Ba;if(this.q)a.q=this.q.R();return a};function ne(a,b){var c=String(b);a.ta&&(c=c.toLowerCase());return c}r.Mb=function(a){a&&!this.ta&&(le(this),me(this),Pd(this.q,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.ta=a};function qe(a,b){this.kc=new Vd(a);this.Re=b?b:"callback";this.gc=5E3}var re=0;
qe.prototype.send=function(a,b,c,d){a=a||n;if(!document.documentElement.firstChild)return c&&c(a),n;d=d||"_"+(re++).toString(36)+B().toString(36);t._callbacks_||(t._callbacks_={});var e=document.createElement("script"),f=n;this.gc>0&&(f=t.setTimeout(se(d,e,a,c),this.gc));c=this.kc.R();if(a)for(var h in a)(!a.hasOwnProperty||a.hasOwnProperty(h))&&ke(c,h,a[h]);b&&(t._callbacks_[d]=te(d,e,b,f),ke(c,this.Re,"_callbacks_."+d));Bb(e,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(e);
return{kb:d,gc:f}};qe.prototype.cancel=function(a){if(a&&a.kb){var b=J(a.kb);b&&b.tagName=="SCRIPT"&&typeof t._callbacks_[a.kb]=="function"&&(a.gc&&t.clearTimeout(a.gc),ue(a.kb,b,p))}};function se(a,b,c,d){return function(){ue(a,b,p);d&&d(c)}}function te(a,b,c,d){return function(e){t.clearTimeout(d);ue(a,b,k);c.apply(j,arguments)}}function ue(a,b,c){t.setTimeout(function(){Gb(b)},0);t._callbacks_[a]&&(c?delete t._callbacks_[a]:t._callbacks_[a]=u)};function ve(a,b,c){this.x=v(a)?a:0;this.y=v(b)?b:0;this.r=v(c)?c:0}ve.prototype.R=function(){return new ve(this.x,this.y,this.r)};ve.prototype.ic=function(){return[this.x,this.y,this.r]};function we(a,b,c){this.x=a;this.y=b;this.r=c}C(we,ve);r=we.prototype;r.R=function(){return new we(this.x,this.y,this.r)};r.scale=function(a){this.x*=a;this.y*=a;this.r*=a;return this};r.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y+this.r*this.r))};r.add=function(a){this.x+=a.x;this.y+=a.y;this.r+=a.r;return this};r.Dd=function(a){this.x-=a.x;this.y-=a.y;this.r-=a.r;return this};r.$c=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.r==a.r};function Z(a,b){if(a instanceof Z)this.k=a.ic();else{var c;if(c=da(a))a:{for(var d=c=0;d<a.length;d++){if(!da(a[d])||c>0&&a[d].length!=c){c=p;break a}for(var e=0;e<a[d].length;e++)if(!ea(a[d][e])){c=p;break a}if(c==0)c=a[d].length}c=c!=0}c?this.k=Fa(a):a instanceof pb?this.k=xe(a.height,a.width):ea(a)&&ea(b)&&a>0&&b>0?this.k=xe(a,b):g(Error("Invalid argument(s) for Matrix contructor"))}this.d=new pb(this.k[0].length,this.k.length)}
function ye(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Z(b)}function ze(a,b,c){for(var d=0;d<a.Ca().height;d++)for(var e=0;e<a.Ca().width;e++)b.call(c,a.k[d][e],d,e,a)}function Ae(a,b){var c=new Z(a.Ca());ze(a,function(d,e,f){c.k[e][f]=b.call(j,d,e,f,a)});return c}function xe(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}r=Z.prototype;
r.add=function(a){qb(this.d,a.Ca())||g(Error("Matrix summation is only supported on arrays of equal size"));return Ae(this,function(b,c,d){return b+a.k[c][d]})};function Be(a,b){a.d.height!=b.Ca().height&&g(Error("The given matrix has height "+b.d.height+", but  needs to have height "+a.d.height+"."));var c=new Z(a.d.height,a.d.width+b.d.width);ze(a,function(a,b,f){c.k[b][f]=a});ze(b,function(a,b,f){c.k[b][this.d.width+f]=a},a);return c}
r.$c=function(a,b){if(this.d.width!=a.d.width)return p;if(this.d.height!=a.d.height)return p;for(var c=b||0,d=0;d<this.d.height;d++)for(var e=0;e<this.d.width;e++)if(!(Math.abs(this.k[d][e]-a.k[d][e])<=(c||1.0E-6)))return p;return k};r.Ca=aa("d");function Ce(a){var b=new Z(a.d.width,a.d.height);ze(a,function(a,d,e){b.k[e][d]=a});return b}function De(a,b,c){return!(b>=0&&b<a.d.height&&c>=0&&c<a.d.width)?n:a.k[b][c]}
function Ee(a,b,c,d){b>=0&&b<a.d.height&&c>=0&&c<a.d.width||g(Error("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.d.height+","+a.d.width+")"));a.k[b][c]=d}r.multiply=function(a){if(a instanceof Z)return this.d.width!=a.Ca().height&&g(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Fe(this,a);else if(ea(a))return Ge(this,a);else g(Error("A matrix can only be multiplied by a number or another matrix."))};
r.Dd=function(a){qb(this.d,a.Ca())||g(Error("Matrix subtraction is only supported on arrays of equal size."));return Ae(this,function(b,c,d){return b-a.k[c][d]})};r.ic=aa("k");function He(a,b,c,d){var e=new Z((c?c:a.d.height-1)-0+1,(d?d:a.d.width-1)-b+1);ze(e,function(a,c,d){e.k[c][d]=this.k[0+c][b+d]},a);return e}function Fe(a,b){var c=new Z(a.d.height,b.Ca().width);ze(c,function(a,e,f){for(var h=a=0;h<this.d.width;h++)a+=De(this,e,h)*De(b,h,f);Ee(c,e,f,a)},a);return c}
function Ge(a,b){return Ae(a,function(a){return a*b})};function Ie(a,b,c,d,e,f){if(w(d))return n;a=d.multiply(new Z([[a/e*2-1],[1-2*b/f],[c*2-1],[1]]));if(De(a,3,0)==0)return n;a=a.multiply(1/De(a,3,0));return new we(De(a,0,0),De(a,1,0),De(a,2,0))};function Je(a){var b=v(j),c=new XMLHttpRequest;if(b)c.onreadystatechange=function(){c.readyState==4&&j(c.responseText)};c.open("GET",a,b);c.send(n);return b?"":c.responseText}function Ke(a){a=U(a,2*Math.PI);return a>Math.PI?a-2*Math.PI:a}function Le(a){var b=document.createElement("style");b.type="text/css";b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));Ab("head",j,j)[0].appendChild(b)};function Me(a){this.e=a;this.ua=this.ja=0;this.H=1E7;this.ve=this.F=this.Ra=0}C(Me,R);function Ne(a,b,c){a.ja=T(b,-1.57,1.57);a.ua=Ke(c);a.dispatchEvent(new Oe(Pe))}function Qe(a,b,c){function d(a){var d=c;c=d*Math.cos(a)-2*b*Math.sin(a);b=d*Math.sin(a)/2+b*Math.cos(a)}d(a.ve);b/=Math.max(Math.abs(Math.cos(a.F)),0.1);d(a.Ra);Ne(a,a.ja+b,a.ua+c)}function Re(a,b){a.H=T(b,250,1E7);a.dispatchEvent(new Oe(Se))}function Te(a){return Ue(a.e,a.e.a.qa/2,a.e.a.pa/2)}var Pe="poschanged",Se="altchanged";
function Oe(a){M.call(this,a)}C(Oe,M);function Ve(a,b,c,d,e){function f(a,b,c,d){a?a=b:(a=b/Math.max(1,Math.sqrt(c*c+d*d)),a=Math.max(1,Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))));return a}a=a.c;this.oa=[];this.zb=[];this.j=[];for(var h=-b/2;h<b/2;++h)for(var i=-c/2;i<c/2;++i){var l=f(e,d,h,i),m=[i+1<c/2&&f(e,d,h,i+1)>l,h+1<b/2&&f(e,d,h+1,i)>l,i-1>-c/2&&f(e,d,h,i-1)>l,h-1>-b/2&&f(e,d,h-1,i)>l];We(this,h,i,l,m)}this.Sc=a.createBuffer();this.Qc=a.createBuffer();this.ge=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Sc);a.bufferData(a.ARRAY_BUFFER,
new Float32Array(this.oa),a.STATIC_DRAW);this.Sc.hd=2;a.bindBuffer(a.ARRAY_BUFFER,this.Qc);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.zb),a.STATIC_DRAW);this.Qc.hd=2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ge);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.j),a.STATIC_DRAW);this.Nf=this.j.length}
function We(a,b,c,d,e){for(var f=a.oa.length/2,h=0;h<=d;++h)for(var i=0;i<=d;++i)a.oa.push(b+i/d,c+h/d),a.zb.push(i/d,1-h/d);var l=[0,0,0,0];if(e[0]){l[0]=a.oa.length/2;for(i=0;i<d;++i)a.oa.push(b+(i+0.5)/d,c+1),a.zb.push((i+0.5)/d,0)}if(e[1]){l[1]=a.oa.length/2;for(h=0;h<d;++h)a.oa.push(b+1,c+(h+0.5)/d),a.zb.push(1,1-(h+0.5)/d)}if(e[2]){l[2]=a.oa.length/2;for(i=0;i<d;++i)a.oa.push(b+(i+0.5)/d,c),a.zb.push((i+0.5)/d,1)}if(e[3]){l[3]=a.oa.length/2;for(h=0;h<d;++h)a.oa.push(b,c+(h+0.5)/d),a.zb.push(0,
1-(h+0.5)/d)}b=A(function(){},a);c=d+1;for(h=0;h<d;++h)for(i=0;i<d;++i){var m=f+h*c+i;a.j.push(m);var q=h==0&&e[2],o=i==0&&e[3];q&&!o?(a.j.push(l[2]+i),a.j.push(m+c),b(),a.j.push(l[2]+i)):o&&!q?(a.j.push(m+1),a.j.push(l[3]+h),b(),a.j.push(l[3]+h)):o&&q&&(a.j.push(l[2]+i),a.j.push(l[3]+h),b(),a.j.push(l[3]+h),a.j.push(l[2]+i),a.j.push(m+c),b(),a.j.push(l[2]+i));a.j.push(m+1);a.j.push(m+c);b();a.j.push(m+c+1);q=h==d-1&&e[0];o=i==d-1&&e[1];q&&!o?(a.j.push(l[0]+i),a.j.push(m+1),b(),a.j.push(l[0]+i)):
o&&!q?(a.j.push(m+c),a.j.push(l[1]+h),b(),a.j.push(l[1]+h)):q&&o&&(a.j.push(l[0]+i),a.j.push(l[1]+h),b(),a.j.push(l[1]+h),a.j.push(l[0]+i),a.j.push(m+1),b(),a.j.push(l[0]+i));a.j.push(m+c);a.j.push(m+1);b()}};function Xe(){this.I=ye(4)}Xe.prototype.translate=function(a,b,c){this.I=this.I.multiply(new Z([[1,0,0,a],[0,1,0,b],[0,0,1,c],[0,0,0,1]]))};Xe.prototype.scale=function(a,b,c){this.I=this.I.multiply(new Z([[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]]))};function Ye(a,b){var c=Math.cos(b),d=Math.sin(b);a.I=a.I.multiply(new Z([[1,0,0,0],[0,c,-d,0],[0,d,c,0],[0,0,0,1]]))}function Ze(a,b){var c=Math.cos(b),d=Math.sin(b);a.I=a.I.multiply(new Z([[c,-d,0,0],[d,c,0,0],[0,0,1,0],[0,0,0,1]]))};function $e(a,b,c){for(var d=n,e=["webgl","experimental-webgl"],f=0;w(d)&&f<e.length;++f)if(!d)a:{try{var h=a.getContext(e[f]);if(x(h)){d=h;break a}}catch(i){}d=n}w(d)&&(v(c)?c():g(Error("unable to get a valid WebGL context")));d.enable(d.CULL_FACE);d.cullFace(d.BACK);d.clearColor(0,0,0,0);d.clearDepth(1);d.enable(d.DEPTH_TEST);d.depthFunc(d.LEQUAL);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);this.canvas=a;this.cd=b||n;this.c=d;this.qa=a.width;this.pa=a.height;d.viewport(0,0,this.qa,this.pa);this.oc=
this.ib=0;this.nc=1;this.Qb=this.qa/this.pa;this.qb=ye(4);this.P=new Xe;this.Gc=this.Fc=this.qb;this.dd=this.vc=this.kd=this.Kd=this.bd=0;O(t,"resize",this.Lc,p,this)}function af(a){a.ib=V(50);a.oc=1.0E-6;a.nc=5;a.Qb=a.qa/a.pa;bf(a)}function bf(a){var b=1/Math.tan(a.ib/2);a.qb=new Z([[b/a.Qb,0,0,0],[0,b,0,0],[0,0,0,0],[0,0,-1,0]]);cf(a)}function cf(a){var b=a.oc-a.nc;Ee(a.qb,2,2,(a.nc+a.oc)/b);Ee(a.qb,2,3,2*a.nc*a.oc/b)}
$e.prototype.Lc=function(){this.qa=this.canvas.width=this.canvas.clientWidth;this.pa=this.canvas.height=this.canvas.clientHeight;this.c.viewport(0,0,this.qa,this.pa);this.Qb=this.qa/this.pa;bf(this);df(this.m)};$e.prototype.m=n;
function ef(a){a.Fc=a.qb.multiply(a.P.I);var b,c=a.Fc;c.d.width!=c.d.height&&g(Error("An inverse can only be taken on a square matrix."));b=ye(c.d.height);a:{for(var c=Be(c,b),d=new Z(c),e=0,f=0;f<d.d.height;f++){if(e>=d.d.width)break;for(var h=f;d.k[h][e]==0;)if(h++,h==d.d.height&&(h=f,e++,e==d.d.width)){c=d;break a}var i=c,l=f,m=i.k[h];i.k[h]=i.k[l];i.k[l]=m;h=d.k[f][e];for(i=e;i<d.d.width;i++)d.k[f][i]/=h;for(h=0;h<d.d.height;h++)if(h!=f){l=d.k[h][e];for(i=e;i<d.d.width;i++)d.k[h][i]-=l*d.k[f][i]}e++}c=
d}b=!He(c,0,b.d.width-1,b.d.height-1).$c(b)?n:He(c,b.d.width);a.Gc=b;return a.Fc}$e.prototype.te=u;$e.prototype.cc="";function ff(a,b,c){c=a.c.createShader(c);a.c.shaderSource(c,b);a.c.compileShader(c);a.c.getShaderParameter(c,a.c.COMPILE_STATUS)?w(c)&&g(Error("Unknown")):g(Error("Shader err: "+a.c.getShaderInfoLog(c)));return c};function gf(a,b,c){var d;d=this.Da=a.c,a=d;this.Id=b;this.gd=c;this.ca=a.createTexture();hf(this)}gf.prototype.Lc=function(a,b){if(!(this.Id==a&&this.gd==b))this.Id=a,this.gd=b,this.Da.deleteTexture(this.ca),this.ca=this.Da.createTexture(),hf(this)};
function hf(a){var b=a.Da;b.bindTexture(b.TEXTURE_2D,a.ca);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a.Id,a.gd,0,b.RGBA,b.UNSIGNED_BYTE,n);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR_MIPMAP_LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR)}gf.prototype.clear=function(){this.Da.deleteTexture(this.ca);this.ca=this.Da.createTexture();hf(this)};function jf(a,b,c,d){this.zoom=a||0;this.x=b||0;this.y=c||0;this.Vd=0;this.Za=d||0;this.Sb=this.Sa=n;this.state=kf}C(jf,Jb);jf.prototype.getKey=function(){return this.zoom+"_"+this.x+"_"+this.y};jf.prototype.Ue=u;jf.prototype.p=function(){this.Sa=n;if(this.Sb)this.Ue(this.Sb),this.Sb=n};var kf=0;function lf(a){this.name=a;this.Hb=0;this.mg=[];this.Df=-1.4844222297453324;this.tf=1.4844222297453324;this.Ef=-Math.PI;this.uf=Math.PI;this.Vc=[];this.opacity=1}function mf(a,b){if(!x(a.Vc[b])){var c=1<<b,d=Math.floor((a.Ef/(2*Math.PI)+0.5)*c),e=Math.floor((a.uf/(2*Math.PI)+0.5)*c),f=Math.floor((0.5-nf(a.tf)/(Math.PI*2))*c),c=Math.floor((0.5-nf(a.Df)/(Math.PI*2))*c);a.Vc[b]=new zc(f,e,c,d)}return a.Vc[b]}r=lf.prototype;r.wc=ba(0);r.Wc=ba(p);r.zd=ba(p);function of(a,b,c,d){pf(a,b,c,d)}r.Pb=function(){};
r.Vf=u;r.Te=u;function qf(a,b,c,d,e){this.kg=a;this.lg=b;this.og=c;this.pg=d;this.qg=e};function rf(a){this.Ia=new Qd;this.mb=[];this.$f=512;this.Md=new Lc(2E4);O(this.Md,Nc,this.Se,p,this);this.Md.start();sf(this,a)}function sf(a,b){a.Ce=B();a.W=b;Pd(a.Ia,function(a){a.i()});a.Ia.clear();a.mb=[]}r=rf.prototype;r.W=n;r.Ce=0;r.bg=u;r.Se=function(){var a=Ca(this.Ia.Qa(),function(a){return a.state==20||a.state==kf||a.state==-10});for(Ja(a,function(a,b){return a.Za-b.Za});this.Ia.ed()>this.$f&&a.length>0;){var b=a.shift();b.state==kf&&Da(this.mb,b);this.Ia.remove(b.getKey());b.i()}};
r.dg=function(a){a.Za<this.Ce?(a.state=-10,this.Ia.remove(a.getKey()),a.i()):this.bg(a)};function tf(a){Ja(a.mb,function(a,b){return a.Za-b.Za});for(var b=Math.min(a.mb.length,5-a.W.Hb),c=0;c<b;c++)of(a.W,a.mb.pop(),A(a.dg,a))};function uf(a,b,c,d){this.ra=b;this.La=[];this.g=c;this.W=a;this.Ed=new rf(a);this.M=d;this.V=1<<this.M;this.Bb=this.g>=this.V;this.Ea=this.ob=0;this.buffer=n;this.J=[];vf(this)}function vf(a){a.J=[];for(var b=0;b<a.g;++b)a.J.push(Array(a.g));a.buffer&&a.buffer.clear()}uf.prototype.disable=function(){this.La=[];vf(this);this.buffer=n};uf.prototype.yb=function(a){this.W=a;sf(this.Ed,a);this.La=[];vf(this)};
function wf(a){a.La=[];for(var b=A(function(a,b){var c=(this.Bb?this.V:this.g)/2;a+=c;b+=c;this.J[b][a]!==1&&xf(this,this.ob+a,this.Ea+b,d)},a),c=A(function(a,c){for(var d=-c;d<c;++d)b(d,-c),b(d,c-1);for(d=-c;d<c;++d)b(-c,d),b(c-1,d)},a),d=B(),a=Math.min(a.g,a.V)/2;a>0;--a)c(d+a,a)}
function xf(a,b,c,d){var b=U(b,a.V),c=U(c,a.V),e;a:{e=a.Ed;var f=a.M,h=b,i=c,c=f+"_"+h+"_"+i,b=e.Ia.get(c);if(x(b))b.state==-10?d-b.Za>7E3&&(b.i(),b=new jf(f,h,i,d),e.Ia.set(c,b),e.mb.push(b)):b.Za=d;else{d=b=new jf(f,h,i,d);f=mf(e.W,d.zoom);if(!(d.x>=f.left&&d.x<=f.right&&d.y>=f.top&&d.y<=f.bottom)){e=n;break a}e.Ia.set(c,b);e.mb.push(b)}e=b}!w(e)&&e.state==20&&a.La.push(e)};function yf(a,b,c){function d(b){f.isTexture(h)&&!(b.Vd>=3)&&pf(a,b,e,d)}function e(c){if(f.isTexture(h)){f.bindTexture(f.TEXTURE_2D,h);try{f.texSubImage2D(f.TEXTURE_2D,0,c.x*l,(i-c.y-1)*l,f.RGBA,f.UNSIGNED_BYTE,c.Sb?n:c.Sa)}catch(m){a.Wc()&&(a.zd(b.cc)||!(c.Sa&&c.Sa.src.lastIndexOf(b.cc,0)==0))?pf(a,c,e,d):b.te()}}}var f=this.Da=b.c,h=f.createTexture();this.ca=h;var i=1<<c,l=a.fc;f.bindTexture(f.TEXTURE_2D,h);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,1);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,l*i,l*i,0,f.RGBA,
f.UNSIGNED_BYTE,n);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR);for(var m=0;m<i;++m)for(var q=0;q<i;++q)of(a,new jf(c,m,q),e,d)}C(yf,Jb);yf.prototype.p=function(){this.Da.deleteTexture(this.ca)};function zf(a,b,c,d,e,f,h){this.ra=b;this.g=c;this.aa=e;this.Ec=f;this.W=a;var i=a.fc;this.ya=[];for(var l=0;l<d;++l)this.ya.push(new gf(b,this.g*i,this.g*i));for(this.B=[];e<=f;++e)this.B.push(new uf(a,b,c,e));for(l=0;l<d;++l)this.B[l].buffer=this.ya[l];this.ea=0;this.$b=h?n:new yf(a,b,2)}zf.prototype.yb=function(a){if(!w(this.$b))this.$b.i(),this.$b=new yf(a,this.ra,2);this.W=a;var b=this.g*a.fc;E(this.ya,function(a){a.Lc(b,b)});E(this.B,function(b){b.yb(a)});Af(this)};
function Bf(a,b,c,d,e,f){for(var f=T(f,a.aa,a.Ec),h=f-(a.aa+a.ea+a.ya.length-1);h>0;){var i=a.B[a.ea].buffer;a.B[a.ea].disable();a.B[++a.ea+a.ya.length-1].buffer=i;h--}for(;h<0&&a.ea>0;)i=a.B[a.ea+a.ya.length-1].buffer,a.B[a.ea+a.ya.length-1].disable(),a.B[--a.ea].buffer=i,h++;for(var h=1<<f,l=p,c=(c/(2*Math.PI)+0.5)*h,b=(0.5-nf(b)/(Math.PI*2))*h,e=(e/(2*Math.PI)+0.5)*h,i=(0.5-nf(d)/(Math.PI*2))*h,d=f-a.aa;d>=a.ea;d--){var m=T(c-a.g/2,e-a.g,e),q=T(b-a.g/2,i-a.g,i),o=mf(a.W,a.aa+d),m=T(m,o.left,o.right+
1-a.g),q=T(q,o.top,o.bottom+1-a.g),m=U(Math.round(m),h),q=Math.round(q),o=a.B[d],G=q,q=p;if(!o.Bb){var s=m-o.ob,ya=G-o.Ea;Math.abs(s)>o.V/2&&(s=(s-(s==0?0:s<0?-1:1)*o.V)%o.V);o.ob=m;o.Ea=G;if(Math.abs(s)>=o.g||Math.abs(ya)>=o.g)vf(o),q=k;else{q=s!=0||ya!=0;if(s>0)for(m=0;m<o.g;++m)o.J[m].splice(0,s),o.J[m].push.apply(o.J[m],Array(s));if(s<0)for(m=0;m<o.g;++m)o.J[m].splice(o.g+s,-s),o.J[m].unshift.apply(o.J[m],Array(-s));if(ya>0)for(m=0;m<ya;++m)o.J.shift(),o.J.push(Array(o.g));if(ya<0)for(m=0;m<-ya;++m)o.J.pop(),
o.J.unshift(Array(o.g))}}wf(o);l|=q;c/=2;b/=2;e/=2;i/=2}l&&Af(a);e=1;for(d=a.ea;e>0&&d<=f-a.aa;d++){h=e;c=a.B[d];b=0;if(c.La.length>0){e=Math.min(c.La.length,e>=0?1:0);for(i=0;i<e;i++){m=c;l=c.La.pop();if(!w(m.buffer)&&l.zoom==m.M&&(o=l.x-m.ob,q=l.y-m.Ea,s=1<<m.M,o=U(o,s),q=U(q,s),!(o<0||o>=m.g||q<0||q>=m.g))){s=m.ra.c;G=m.W.fc;s.bindTexture(s.TEXTURE_2D,m.buffer.ca);ya=U(o+m.ob,m.g)*G;G*=m.g-U(q+m.Ea,m.g)-1;try{s.texSubImage2D(s.TEXTURE_2D,0,ya,G,s.RGBA,s.UNSIGNED_BYTE,l.Sb?n:l.Sa),m.J[q][o]=1}catch(tg){m.W.Wc()&&
(m.W.zd(m.ra.cc)||!(l.Sa&&l.Sa.src.lastIndexOf(m.ra.cc,0)==0))?xf(m,l.x,l.y,l.Za):m.ra.te()}}b++}}tf(c.Ed);b>0&&(c.ra.c.bindTexture(c.ra.c.TEXTURE_2D,c.buffer.ca),c.ra.c.generateMipmap(c.ra.c.TEXTURE_2D));e=h-b}}function Cf(a,b,c){return b>a.Ec||b-c<a.aa?Array(a.g*a.g):La(a.B[b-a.aa-c].J)}function Df(a,b,c){return b>a.Ec||b-c<a.aa?n:a.B[b-a.aa-c].buffer.ca}
function Ef(a,b,c){if(b>a.Ec)return Array(2*c);for(var d=[],e=b-a.aa;e>b-a.aa-c;--e)d.push(Math.round(a.B[Math.max(0,e)].ob),Math.round(a.B[Math.max(0,e)].Ea));return d}function Af(a){for(var b=Array(a.ya.length),c=0;c<a.ya.length;c++){var d=a.B[a.ea+c],e=Ff((0.5-d.Ea/d.V)*2*Math.PI),f=Ff((0.5-(d.Ea+d.g)/d.V)*2*Math.PI);b[c]=new qf(d.Bb?0:Ff((0.5-(d.Ea+d.g/2)/d.V)*2*Math.PI),d.Bb?0:((d.ob+d.g/2)/d.V-0.5)*2*Math.PI,d.Bb?Math.PI/2:Math.abs(e-f),d.Bb?Math.PI:d.g/d.V*2*Math.PI,d.M)}a.W.Vf(b)};function Gf(a,b,c,d){b=b.c;this.l=a;this.mc=b.getAttribLocation(this.l,"aVertexPosition");b.enableVertexAttribArray(this.mc);this.Be=b.getAttribLocation(this.l,"aTextureCoord");b.enableVertexAttribArray(this.Be);this.Kf=$(b,this.l,"uMVPMatrix");this.vf=$(b,this.l,"uMetaL0A");this.yf=$(b,this.l,"uMetaL1A");this.Bf=$(b,this.l,"uMetaL2A");this.of=$(b,this.l,"uOffLA");this.He=$(b,this.l,"uBufferL0A");this.Ke=$(b,this.l,"uBufferL1A");this.Ne=$(b,this.l,"uBufferL2A");this.Pe=$(b,this.l,"uBufferLnA");if(c)this.wf=
$(b,this.l,"uMetaL0B"),this.zf=$(b,this.l,"uMetaL1B"),this.Cf=$(b,this.l,"uMetaL2B"),this.pf=$(b,this.l,"uOffLB"),this.Ie=$(b,this.l,"uBufferL0B"),this.Le=$(b,this.l,"uBufferL1B"),this.Oe=$(b,this.l,"uBufferL2B"),this.Gf=$(b,this.l,"uMixFactor");if(d)this.We=$(b,this.l,"uDegradationT"),this.xf=$(b,this.l,"uMetaL0T"),this.Af=$(b,this.l,"uMetaL1T"),this.qf=$(b,this.l,"uOffLT"),this.Je=$(b,this.l,"uBufferL0T"),this.Me=$(b,this.l,"uBufferL1T"),this.Qe=$(b,this.l,"uBufferLnT");this.cg=$(b,this.l,"uTileCount");
this.Of=$(b,this.l,"uOffset")}function $(a,b,c){a=a.getUniformLocation(b,c);w(a)&&g(Error("Invalid name "+c));return a};var Hf={"earth-fs-overlay.glsl":"precision mediump float;uniform sampler2D uBufferL0A;uniform sampler2D uBufferL1A;uniform sampler2D uBufferL2A;uniform sampler2D uBufferLnA;varying float vFallbackA;varying vec2 vTCA;uniform sampler2D uBufferL0B;uniform sampler2D uBufferL1B;uniform sampler2D uBufferL2B;varying float vFallbackB;varying vec2 vTCB;uniform float uMixFactor;void main(){float fallbackA=floor(vFallbackA+0.5);vec4 colorA;if(fallbackA==0.0){colorA=texture2D(uBufferL0A,vTCA);}else if(fallbackA==1.0){colorA=texture2D(uBufferL1A,vTCA);}else if(fallbackA==2.0){colorA=texture2D(uBufferL2A,vTCA);}else if(fallbackA==-1.0){colorA=texture2D(uBufferLnA,vTCA);}else{discard;}float fallbackB=floor(vFallbackB+0.5);vec4 colorB=vec4(0.0);if(fallbackB==0.0){colorB=texture2D(uBufferL0B,vTCB);}else if(fallbackB==1.0){colorB=texture2D(uBufferL1B,vTCB);}else if(fallbackB==2.0){colorB=texture2D(uBufferL2B,vTCB);}gl_FragColor=mix(colorA,colorB,uMixFactor*colorB.a);}",
"earth-fs.glsl":"precision mediump float;uniform sampler2D uBufferL0A;uniform sampler2D uBufferL1A;uniform sampler2D uBufferL2A;uniform sampler2D uBufferLnA;varying float vFallbackA;varying vec2 vTCA;void main(){float fallback=floor(vFallbackA+0.5);if(fallback==0.0){gl_FragColor=texture2D(uBufferL0A,vTCA);}else if(fallback==1.0){gl_FragColor=texture2D(uBufferL1A,vTCA);}else if(fallback==2.0){gl_FragColor=texture2D(uBufferL2A,vTCA);}else if(fallback==-1.0){gl_FragColor=texture2D(uBufferLnA,vTCA);}else{discard;}}",
"earth-vs-overlay.glsl":"#define BUFF_SIDE 4.0\n#define BUFF_SIZE 16\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0A[BUFF_SIZE];uniform float uMetaL1A[BUFF_SIZE];uniform float uMetaL2A[BUFF_SIZE];uniform vec2 uOffLA[3];varying float vFallbackA;varying vec2 vTCA;uniform float uMetaL0B[BUFF_SIZE];uniform float uMetaL1B[BUFF_SIZE];uniform float uMetaL2B[BUFF_SIZE];uniform vec2 uOffLB[3];varying float vFallbackB;varying vec2 vTCB;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffLA[0],uTileCount);if(validateOffset(off)&&uMetaL0A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLA[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLA[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffLA[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;vFallbackB=-1.0;off=modFirst(tileCoords-uOffLB[0],uTileCount);if(validateOffset(off)&&uMetaL0B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLB[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLB[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2B[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackB=2.0;}}}if(vFallbackB>=0.0){vTCB=(off+aTextureCoord/exp2(vFallbackB)+mod(uOffLB[int(vFallbackB)],BUFF_SIDE))/BUFF_SIDE;}else{vTCB=(tileCoords+aTextureCoord)/uTileCount;}vTCB.y=1.0-vTCB.y;}",
"earth-vs.glsl":"#define BUFF_SIDE 8.0\n#define BUFF_SIZE 64\n#define TERRAIN %TERRAIN_BOOL%\n#define BUFF_SIDE_T %BUFFER_SIDE_T_FLOAT%\n#define BUFF_SIZE_T int(BUFF_SIDE_T*BUFF_SIDE_T)\nprecision highp float;const float PI=3.1415927;const float PI2=6.2831855;const float EARTH_RADIUS=6378137.0;const float TERRAIN_MIN=-10000.0;const float TERRAIN_MAX=12000.0;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVPMatrix;uniform float uTileCount;uniform vec2 uOffset;uniform float uMetaL0A[BUFF_SIZE];uniform float uMetaL1A[BUFF_SIZE];uniform float uMetaL2A[BUFF_SIZE];uniform vec2 uOffLA[3];varying float vFallbackA;varying vec2 vTCA;\n#if TERRAIN\nuniform float uMetaL0T[BUFF_SIZE_T];uniform float uMetaL1T[BUFF_SIZE_T];uniform vec2 uOffLT[2];uniform sampler2D uBufferL0T;uniform sampler2D uBufferL1T;uniform sampler2D uBufferLnT;uniform float uDegradationT;bool validateOffsetT(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE_T&&off.y<BUFF_SIDE_T;}\n#endif\nbool validateOffset(vec2 off){return off.x>=0.0&&off.y>=0.0&&off.x<BUFF_SIDE&&off.y<BUFF_SIDE;}vec2 modFirst(vec2 x,float y){return vec2(x.x-y*floor(x.x/y),x.y);}void main(){vec2 phi=PI2*(aVertexPosition+uOffset)/uTileCount;vec2 tileCoords=vec2(mod(aVertexPosition.x-aTextureCoord.x+uOffset.x+uTileCount*0.5,uTileCount),-aTextureCoord.y-aVertexPosition.y-uOffset.y+uTileCount*0.5);float elev=0.0;\n#if TERRAIN\nvec2 TCT;float fallbackT=-1.0;float degradationModifier=exp2(uDegradationT);vec2 offT=modFirst(tileCoords/degradationModifier-uOffLT[0],uTileCount/degradationModifier);vec2 rawElev;if(validateOffsetT(offT)&&uMetaL0T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=0.0;}else{offT=modFirst((tileCoords/(2.0*degradationModifier))-uOffLT[1],uTileCount/(2.0*degradationModifier));if(validateOffsetT(offT)&&uMetaL1T[int(floor(offT.y)*BUFF_SIDE_T+offT.x)]==1.0){fallbackT=1.0;}else{TCT=(tileCoords+aTextureCoord)/uTileCount;}}if(fallbackT>=0.0){TCT=(offT+aTextureCoord/(exp2(fallbackT)*degradationModifier)+mod(uOffLT[int(fallbackT)],BUFF_SIDE_T))/BUFF_SIDE_T;}TCT.y=1.0-TCT.y;if(fallbackT==0.0){rawElev=texture2D(uBufferL0T,TCT).rg;}else if(fallbackT==1.0){rawElev=texture2D(uBufferL1T,TCT).rg;}else{rawElev=texture2D(uBufferLnT,TCT).rg;}elev=((TERRAIN_MAX-TERRAIN_MIN)*(rawElev.r+rawElev.g/256.0)-TERRAIN_MAX)/EARTH_RADIUS;\n#endif\nfloat exp_2y=exp(2.0*phi.y);float tanh=((exp_2y-1.0)/(exp_2y+1.0));float cosy=sqrt(1.0-tanh*tanh);vec3 pos=vec3(sin(phi.x)*cosy,tanh,cos(phi.x)*cosy);gl_Position=uMVPMatrix*vec4(pos*(1.0+elev),1.0);if(abs(phi.y)>PI){vFallbackA=-1.0e3;return;}vFallbackA=-1.0;vec2 off=modFirst(tileCoords-uOffLA[0],uTileCount);if(validateOffset(off)&&uMetaL0A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=0.0;}else{off=modFirst((tileCoords/2.0)-uOffLA[1],uTileCount/2.0);if(validateOffset(off)&&uMetaL1A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=1.0;}else{off=modFirst((tileCoords/4.0)-uOffLA[2],uTileCount/4.0);if(validateOffset(off)&&uMetaL2A[int(floor(off.y)*BUFF_SIDE+off.x)]==1.0){vFallbackA=2.0;}}}if(vFallbackA>=0.0){vTCA=(off+aTextureCoord/exp2(vFallbackA)+mod(uOffLA[int(vFallbackA)],BUFF_SIDE))/BUFF_SIDE;}else{vTCA=(tileCoords+aTextureCoord)/uTileCount;}vTCA.y=1.0-vTCA.y;}",
"halo-fs.glsl":"precision lowp float;uniform sampler2D uGradient;varying vec2 vCoords;void main(){float distance=vCoords.x*vCoords.x+vCoords.y*vCoords.y;if(distance<0.98){discard;}else{gl_FragColor=texture2D(uGradient,vec2((sqrt(distance)-1.0)/0.1,0.5));}}","halo-vs.glsl":"precision lowp float;attribute vec2 aVertexPosition;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying vec2 vCoords;void main(){gl_Position=uPMatrix*(uMVMatrix[3]+uMVMatrix[0]*aVertexPosition.x+uMVMatrix[1]*aVertexPosition.y);gl_Position.z=0.0;vCoords=aVertexPosition;}"};function If(a){return a in Hf?Hf[a]:Je("../we/shaders/"+a)};function Jf(a){lf.call(this,a);this.xd=""}C(Jf,lf);Jf.prototype.Wc=ba(k);Jf.prototype.zd=function(a){var b=this.xd!=a;this.xd=a;return b};function pf(a,b,c,d){var e=new Image;e.onload=A(function(){b.state=20;this.Hb--;c(b)},a);e.onerror=A(function(){b.Vd++;b.state=-10;this.Hb--;d&&d(b)},a);b.state=10;b.Sa=e;e.crossOrigin="";var f=Kf(a,b.zoom,b.x,b.y);e.src=a.xd+f;a.Hb++};function Lf(a,b,c,d,e,f,h,i){Jf.call(this,a);this.url=b;this.Ff=c;this.ac=d;this.fc=e;this.af=f===k;this.Cd=h||[];this.Nd=i||""}C(Lf,Jf);Lf.prototype.wc=aa("Ff");function Kf(a,b,c,d){var e=a.url.replace("{z}",b.toFixed(0)),e=e.replace("{x}",c.toFixed(0)),e=e.replace("{y}",(a.af?(1<<b)-d-1:d).toFixed(0));a.Cd.length>0&&(e=e.replace("{sub}",a.Cd[U(c+d+b,a.Cd.length)]));return e}Lf.prototype.Pb=function(a){this.Nd.length>0&&L(a,this.Nd)};function Mf(a){Lf.call(this,a||"MapQuest OSM","http://otile{sub}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",0,18,256,p,["1","2","3","4"])}C(Mf,Lf);Mf.prototype.Pb=function(a){L(a,"Map data \u00a9 ",K("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA",K("br"));L(a,"Tiles Courtesy of ",K("a",{href:"http://open.mapquest.co.uk/"},"MapQuest")," ",K("img",{src:"http://developer.mapquest.com/content/osm/mq_logo.png",border:0}))};function Nf(a,b){this.a=a.a;this.m=a;this.S=b||new Mf;this.Q=new zf(this.S,this.a,8,3,1,19);this.G=this.fb=n;if(this.ub=p)this.Pc=new Lf("Terrain","http://srtm.webglearth.com/srtm/{z}/{x}/{y}.png",0,10,256),this.Ma=new zf(this.Pc,this.a,2,3,this.Pc.wc(),this.Pc.ac);this.yb(this.S,k);this.vb=1;this.Ya=[0,0];this.xe=[new Ve(this.a,1,1,1),new Ve(this.a,4,4,16,k),new Ve(this.a,6,6,8,k),new Ve(this.a,8,8,8,k),new Ve(this.a,10,10,8),new Ve(this.a,64,64,this.ub?8:4)];this.rf=Of(this,p);this.sf=Of(this,k);
this.M=n;O(this.m.b,Se,this.gg,p,this)}Nf.prototype.yb=function(a,b,c){if(a)a.Te=A(this.m.Gd,this.m);if(c)if(this.fb=a)x(this.G)?this.G.yb(a):(this.Q=new zf(this.S,this.a,4,3,1,19),this.G=new zf(this.fb,this.a,4,3,0,15));else{if(x(this.G))this.Q=new zf(this.S,this.a,8,3,1,19),this.G=n}else{if(!a)return;this.Q.yb(a);this.S=a}b!==k&&(df(this.m),this.m.Gd(),Pf(this,Qf(this)))};
Nf.prototype.Vb=function(){var a=this.a.c;this.vb=1<<Qf(this);var b=[this.m.b.ja,this.m.b.ua],c=Te(this.m.b)||b;this.Ya[0]=Math.floor(b[1]/(2*Math.PI)*this.vb);this.Ya[1]=T(Math.floor(nf(b[0])/(Math.PI*2)*this.vb),-this.vb/2,this.vb/2);Bf(this.Q,c[0],c[1],b[0],b[1],Math.floor(Qf(this)));this.G&&Bf(this.G,c[0],c[1],b[0],b[1],Math.floor(Qf(this)));this.ub&&Bf(this.Ma,c[0],c[1],b[0],b[1],Math.floor(Qf(this))-5);c=Math.floor(Qf(this));this.vb=1<<c;b=this.G?this.sf:this.rf;a.useProgram(b.l);a.activeTexture(a.TEXTURE0);
a.bindTexture(a.TEXTURE_2D,Df(this.Q,c,0));a.uniform1i(b.He,0);a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,Df(this.Q,c,1));a.uniform1i(b.Ke,1);a.activeTexture(a.TEXTURE2);a.bindTexture(a.TEXTURE_2D,Df(this.Q,c,2));a.uniform1i(b.Ne,2);a.activeTexture(a.TEXTURE3);a.bindTexture(a.TEXTURE_2D,this.Q.$b.ca);a.uniform1i(b.Pe,3);a.uniform1fv(b.vf,new Float32Array(Cf(this.Q,c,0)));a.uniform1fv(b.yf,new Float32Array(Cf(this.Q,c,1)));a.uniform1fv(b.Bf,new Float32Array(Cf(this.Q,c,2)));a.uniform2fv(b.of,
new Float32Array(Ef(this.Q,c,3)));this.G&&(a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,Df(this.G,c,0)),a.uniform1i(b.Ie,4),a.activeTexture(a.TEXTURE5),a.bindTexture(a.TEXTURE_2D,Df(this.G,c,1)),a.uniform1i(b.Le,5),a.activeTexture(a.TEXTURE6),a.bindTexture(a.TEXTURE_2D,Df(this.G,c,2)),a.uniform1i(b.Oe,6),a.uniform1fv(b.wf,new Float32Array(Cf(this.G,c,0))),a.uniform1fv(b.zf,new Float32Array(Cf(this.G,c,1))),a.uniform1fv(b.Cf,new Float32Array(Cf(this.G,c,2))),a.uniform2fv(b.pf,new Float32Array(Ef(this.G,
c,3))),a.uniform1f(b.Gf,this.fb.opacity));if(this.ub){var d=T(c-5,2,this.Pc.ac);a.uniform1f(b.We,c-d);a.activeTexture(a.TEXTURE7);a.bindTexture(a.TEXTURE_2D,Df(this.Ma,d,0));a.uniform1i(b.Je,7);a.activeTexture(a.TEXTURE8);a.bindTexture(a.TEXTURE_2D,Df(this.Ma,d,1));a.uniform1i(b.Me,8);a.activeTexture(a.TEXTURE9);a.bindTexture(a.TEXTURE_2D,this.Ma.$b.ca);a.uniform1i(b.Qe,9);a.uniform1fv(b.xf,new Float32Array(Cf(this.Ma,d,0)));a.uniform1fv(b.Af,new Float32Array(Cf(this.Ma,d,1)));a.uniform2fv(b.qf,new Float32Array(Ef(this.Ma,
d,2)))}d=new Float32Array(La(Ce(ef(this.a)).ic()));c=this.xe[Math.min(c,this.xe.length-1)];a.bindBuffer(a.ARRAY_BUFFER,c.Sc);a.vertexAttribPointer(b.mc,c.Sc.hd,a.FLOAT,p,0,0);a.bindBuffer(a.ARRAY_BUFFER,c.Qc);a.vertexAttribPointer(b.Be,c.Qc.hd,a.FLOAT,p,0,0);a.uniformMatrix4fv(b.Kf,p,d);a.uniform1f(b.cg,this.vb);a.uniform2fv(b.Of,new Float32Array(this.Ya));a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.ge);a.drawElements(a.TRIANGLES,c.Nf,a.UNSIGNED_SHORT,0)};
function Of(a,b){var c=a.a.c,d=If("earth-fs"+(b?"-overlay":"")+".glsl"),e=If("earth-vs"+(b?"-overlay":"")+".glsl"),e=e.replace("%TERRAIN_BOOL%",a.ub?"1":"0");a.ub&&(e=e.replace("%BUFFER_SIDE_T_FLOAT%",a.Ma.g.toFixed(1)));var d=ff(a.a,d,c.FRAGMENT_SHADER),e=ff(a.a,e,c.VERTEX_SHADER),f=c.createProgram();w(f)&&g(Error("Unknown"));c.attachShader(f,e);c.attachShader(f,d);c.bindAttribLocation(f,0,"aVertexPosition");c.linkProgram(f);c.getProgramParameter(f,c.LINK_STATUS)||g(Error("Shader program err: "+
c.getProgramInfoLog(f)));return new Gf(f,a.a,b,a.ub)}function Pf(a,b){a.M=T(b,a.S.wc(),a.S.ac);Re(a.m.b,Rf(a,a.M,a.m.b.ja))}Nf.prototype.gg=function(){this.M=n};function Qf(a){w(a.M)&&Sf(a);return a.M}function Sf(a,b){var c=a.m.b,d=2*(c.H/6378137)*Math.tan(a.a.ib/2)/a.m.Rc,c=Math.log(Math.cos(Math.abs(c.ja))*2*Math.PI/d)/Math.LN2;return b?c:(a.M=T(c,a.S.wc(),a.S.ac),a.M)}function Rf(a,b,c){b=Math.cos(Math.abs(c))*2*Math.PI/Math.pow(2,b)*a.m.Rc;return 1/Math.tan(a.a.ib/2)*(b/2)*6378137}
function Tf(a,b,c,d){var e=Math.sin((c-a)/2),b=Math.sin((d-b)/2);return 6378137*2*Math.asin(Math.sqrt(e*e+Math.cos(a)*Math.cos(c)*b*b))};function Uf(a){var c;this.a=a.a;c=this.c=a.a.c,a=c;this.De=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.De);a.bufferData(a.ARRAY_BUFFER,new Float32Array([1.1,1.1,-1.1,1.1,1.1,-1.1,-1.1,-1.1]),a.STATIC_DRAW);this.Yd=a.createTexture();var b=new Uint8Array([224,224,255,255,207,218,250,220,179,194,245,180,137,166,237,145,84,123,221,110,51,94,198,75,25,67,178,30,13,53,161,0]);a.bindTexture(a.TEXTURE_2D,this.Yd);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,8,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);b=If("halo-fs.glsl");a=If("halo-vs.glsl");b=ff(this.a,b,this.c.FRAGMENT_SHADER);a=ff(this.a,a,this.c.VERTEX_SHADER);this.ba=this.c.createProgram();w(this.ba)&&g(Error("Unknown"));this.c.attachShader(this.ba,a);this.c.attachShader(this.ba,b);this.c.bindAttribLocation(this.ba,0,"aVertexPosition");
this.c.linkProgram(this.ba);this.c.getProgramParameter(this.ba,this.c.LINK_STATUS)||g(Error("Shader program err: "+this.c.getProgramInfoLog(this.ba)));this.mc=this.c.getAttribLocation(this.ba,"aVertexPosition");this.c.enableVertexAttribArray(this.mc);this.Jf=this.c.getUniformLocation(this.ba,"uMVMatrix");this.Rf=this.c.getUniformLocation(this.ba,"uPMatrix");this.cf=this.c.getUniformLocation(this.ba,"uGradient")}
Uf.prototype.Vb=function(){this.c.useProgram(this.ba);this.c.bindBuffer(this.c.ARRAY_BUFFER,this.De);this.c.vertexAttribPointer(this.mc,2,this.c.FLOAT,p,0,0);this.c.activeTexture(this.c.TEXTURE0);this.c.bindTexture(this.c.TEXTURE_2D,this.Yd);this.c.uniform1i(this.cf,0);var a=new Float32Array(La(Ce(this.a.P.I).ic())),b=new Float32Array(La(Ce(this.a.qb).ic()));this.c.uniformMatrix4fv(this.Jf,p,a);this.c.uniformMatrix4fv(this.Rf,p,b);this.c.drawArrays(this.c.TRIANGLE_STRIP,0,4)};function Vf(a,b,c,d,e,f,h){this.a=a;this.he=b||n;this.cb=c||document.createElement("div");if(!v(c))a=this.a.canvas,a.parentNode&&a.parentNode.insertBefore(this.cb,a.nextSibling);this.jc=d||document.createElement("img");if(!v(d))d=this.cb,d.parentNode&&d.parentNode.insertBefore(this.jc,d.nextSibling);this.Ge=f||n;this.b=new Me(this);this.ha=new Nf(this,e);this.Zd=h===k?n:new Uf(this);this.Rc=0;df(this);this.Gd()}
Vf.prototype.Gd=function(){if(!w(this.cb)){for(var a=this.cb,b;b=a.firstChild;)a.removeChild(b);L(this.cb,this.Ge);this.ha.S.Pb(this.cb);this.ha.fb&&(L(this.cb,K("br"),K("strong",{},"Overlay data:"),K("br")),this.ha.fb.Pb(this.cb))}if(!w(this.jc))w(n)?this.jc.style.visibility="hidden":(this.jc.src=n,this.jc.style.visibility="visible")};function df(a){a.Rc=0.7*a.a.canvas.height/a.ha.S.fc}
Vf.prototype.Vb=function(){var a=this.a.c;if(!w(this.he)){for(var b=this.he,c=(this.b.ja*180/Math.PI).toFixed(4)+"; "+(this.b.ua*180/Math.PI).toFixed(4)+" @ "+this.b.H.toFixed(0)+"m -> z="+Qf(this.ha).toFixed(3)+"; ",d=this.ha,e=d.Q,f="",h=0;h<e.B.length;++h)f+=h+e.aa+":"+e.B[h].La.length+" ";e="BufferQueue size: "+f+"; Loading tiles: "+d.S.Hb;d.fb&&(e+=" + "+d.fb.Hb);b.innerHTML=c+e}b=this.b.H/6378137;c=this.a;c.oc=0.25*b;c.nc=1+b;cf(c);if(this.Zd)a.enable(a.BLEND),a.disable(a.DEPTH_TEST),b=Math.sin((Math.PI-
this.a.ib)/2),c=Math.sin(this.a.ib/2),this.a.P.I=ye(4),Ye(this.a.P,-this.b.F),this.a.P.translate(0,0,c-1-this.b.H/6378137),this.a.P.scale(b,b,b),this.Zd.Vb(),a.disable(a.BLEND),a.enable(a.DEPTH_TEST);this.a.P.I=ye(4);Ze(this.a.P,-this.b.ve);Ye(this.a.P,-this.b.F);Ze(this.a.P,-this.b.Ra);this.a.P.translate(0,0,-1-this.b.H/6378137);Ye(this.a.P,this.b.ja);a=this.a.P;c=-this.b.ua;b=Math.cos(c);c=Math.sin(c);a.I=a.I.multiply(new Z([[b,0,c,0],[0,1,0,0],[-c,0,b,0],[0,0,0,1]]));this.ha.Vb()};
function Wf(a,b){var c=a.R();c.x=-c.x;c.y=-c.y;c.r=-c.r;var d=b.x*c.x+b.y*c.y+b.r*c.r,e=d*d-(c.x*c.x+c.y*c.y+c.r*c.r)+1;return e<0?n:(c=Math.min(d+Math.sqrt(e),d-Math.sqrt(e)),d=Math.max(d+Math.sqrt(e),d-Math.sqrt(e)),[c,d])}
function Ue(a,b,c){var d=Ie(b,c,0,a.a.Gc,a.a.qa,a.a.pa),a=Ie(b,c,1,a.a.Gc,a.a.qa,a.a.pa);if(w(d)||w(a))return n;a.Dd(d);a.normalize();b=Wf(d,a);if(w(b))return n;a=a.scale(b[0]);d=new we(d.x+a.x,d.y+a.y,d.r+a.r);a=Math.asin(d.x/Math.sqrt(1-d.y*d.y));d.r<0&&(a=Math.PI-a);return[Math.asin(d.y),Ke(a)]}function nf(a){return Math.log(Math.tan(a/2+Math.PI/4))}function Ff(a){return 2*Math.atan(Math.exp(a))-Math.PI/2};function Xf(a){this.za=a;this.u=n;this.Oc=[];this.tc=[]}
function Yf(a,b,c,d){function e(a){var b=a*a;a*=a*a;return 6*a*b+-15*b*b+10*a}x(a.u)&&a.qd();a.u=new gd;var f=[a.za.ja,a.za.ua];a.Oc=[0,0,a.za.Ra,a.za.F];a.tc=[0,0,0,0];Zf(a,f[0],f[1],b,c);var h=["begin","animate","end"],i=new W(a.Oc,a.tc,3E3,e);O(i,h,a.Pf,p,a);a.u.add(i);if(d)c=Tf(f[0],f[1],b,c),b=a.za.H,c=Math.min(b,d)+c*0.2,c=Math.max(Math.max(b,d),c),b=new W([b],[c],1500,e),d=new W([c],[d],1500,e),O(b,h,a.se,p,a),O(d,h,a.se,p,a),h=new hd,h.add(b),h.add(d),a.u.add(h);O(a.u,"end",a.qd,p,a);a.u.play()}
function Zf(a,b,c,d,e){var c=U(c,2*Math.PI),e=U(e,2*Math.PI),f=c-e;f<-Math.PI?c+=2*Math.PI:f>Math.PI&&(e+=2*Math.PI);a.Oc[0]=b;a.Oc[1]=c;a.tc[0]=d;a.tc[1]=e}Xf.prototype.Pf=function(a){Ne(this.za,a.coords[0],a.coords[1]);this.za.Ra=a.coords[2];this.za.F=a.coords[3]};Xf.prototype.se=function(a){Re(this.za,a.coords[0])};Xf.prototype.qd=function(){if(x(this.u))this.u.i(),this.u=n};Xf.prototype.cancel=function(){this.qd()};function $f(a){this.e=a;this.Xa=new Xc(a.a.canvas);this.w=O(this.Xa,"mousewheel",function(a){this.M(-(a.Oa==0?0:a.Oa<0?-1:1));a.preventDefault()},p,this);this.Ve=O(a.a.canvas,"dblclick",A(function(a){Re(this.b,this.b.H/2);var c=Ue(this,a.offsetX,a.offsetY)||Te(this.b);if(c){var d=(this.b.ua+c[1])/2;Math.abs(this.b.ua-c[1])>Math.PI&&(d+=Math.PI);Ne(this.b,(this.b.ja+c[0])/2,d)}a.preventDefault()},a));this.Wf=O(a.a.canvas,"mouseup",A(function(a){if(Sb(a,2)){Re(this.b,this.b.H*2);var c=Ue(this,a.offsetX,
a.offsetY)||Te(this.b);c&&Ne(this.b,2*this.b.ja-c[0],2*this.b.ua-c[1]);a.preventDefault()}},a));this.Mf=O(a.a.canvas,"contextmenu",function(a){a.preventDefault()});this.u=n;this.tb=this.sb=0}C($f,Jb);
$f.prototype.M=function(a){var b=120;a*=-1;if(this.u)if(this.tb>this.sb==a>0)return;else this.u.i(),this.u=n,b*=(this.e.b.H-this.sb)/(this.tb-this.sb),a=this.tb,this.tb=this.sb,this.sb=a;else this.sb=this.e.b.H,this.tb=T(this.sb*Math.pow(2,a),250,1E7);if(!(isNaN(b)||b<=0)){var a=[this.e.b.ja,this.e.b.ua],c=Te(this.e.b)||a,d=this.tb/this.e.b.H;a.push(this.e.b.H);this.u=new W(a,[c[0]+d*(a[0]-c[0]),c[1]+d*(a[1]-c[1]),this.tb],b);O(this.u,["animate","finish"],function(a){Ne(this.e.b,a.x,a.y);Re(this.e.b,
a.r)},p,this);O(this.u,["finish"],this.$e,p,this);this.u.play(p)}};$f.prototype.$e=function(){if(this.u)this.u.i(),this.u=n};$f.prototype.p=function(){P(this.w);P(this.Ve);P(this.Wf);P(this.Mf);this.Xa.i();this.u.i()};function ag(a){return 1-Math.pow(1-a,3)};function bg(a,b){this.e=a;this.X=p;this.Ic=this.Hc=this.U=this.T=0;this.lb=this.w=n;O(this.e.a.canvas,"mousedown",A(this.rd,this));O(I(this.e.a.canvas),"mouseup",A(this.td,this));this.xa=b||n}r=bg.prototype;r.rd=function(a){if(Sb(a,0)&&!a.ctrlKey&&!a.altKey){x(this.xa)&&this.xa.cancel();if(this.lb)this.lb.stop(p),this.lb.i(),this.lb=n;this.X=k;this.Hc=this.T=a.screenX;this.Ic=this.U=a.screenY;if(!w(this.w))P(this.w),this.w=n;this.w=O(I(this.e.a.canvas),"mousemove",A(this.sd,this));a.preventDefault()}};
r.td=function(a){if(this.X){a.preventDefault();this.X=p;if(!w(this.w))P(this.w),this.w=n;if(Sb(a,0)){var b=a.screenX-this.Hc,c=a.screenY-this.Ic,a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));b/=a;c/=a;this.T==this.Hc&&this.U==this.Ic&&(a*=2);if(a>6)a=Math.max(15,a)*6,this.lb=new W([this.T,this.U],[this.T+a*b,this.U+a*c],1300,ag),O(this.lb,["animate"],this.lf,p,this),this.lb.play(p)}}};
r.Mc=function(a,b){var c=Math.PI*(1/this.e.a.canvas.height)*(this.e.Rc/Math.pow(2,Sf(this.e.ha,k)));Qe(this.e.b,b*c,-2*a*c)};r.sd=function(a){this.Mc(a.screenX-this.T,a.screenY-this.U);this.Hc=this.T;this.Ic=this.U;this.T=a.screenX;this.U=a.screenY;a.preventDefault()};r.lf=function(a){this.Mc(a.x-this.T,a.y-this.U);this.T=a.x;this.U=a.y};function cg(a,b){this.e=a;this.Ga=j;this.U=this.T=this.we=0;this.w=n;O(this.e.a.canvas,"mousedown",A(this.rd,this));O(I(this.e.a.canvas),"mouseup",A(this.td,this));this.xa=b||n}
cg.prototype.rd=function(a){if(!Sb(a,2)&&!a.ctrlKey&&!a.altKey){x(this.xa)&&this.xa.cancel();this.T=a.screenX;this.U=a.screenY;if(Sb(a,1)||Sb(a,0)&&a.shiftKey)if(this.Ga=Te(this.e.b),x(this.Ga)){if(window.Tb)window.Tb.je=this.Ga[0]*180/Math.PI,window.Tb.le=this.Ga[1]*180/Math.PI,window.Tb.enable(k);this.we=this.e.b.F==0?this.e.b.H:Math.sin(Math.PI-this.e.b.F-(Math.PI-Math.asin((1+this.e.b.H/6378137)*Math.sin(this.e.b.F))))/Math.sin(this.e.b.F)*6378137}if(!w(this.w))P(this.w),this.w=n;this.w=O(I(this.e.a.canvas),
"mousemove",A(this.sd,this));a.preventDefault()}};cg.prototype.td=function(a){a.preventDefault();this.Ga=j;window.Tb&&window.Tb.enable(p);if(!w(this.w))P(this.w),this.w=n};
cg.prototype.Mc=function(a,b){if(v(this.Ga)){var c=a/this.e.a.canvas.width*Math.PI*-2,d=b/this.e.a.canvas.height*Math.PI/2;if(w(this.Ga))this.e.b.Ra+=c,this.e.b.F+=d;else{var e=this.e.b,f=this.Ga[0],h=this.Ga[1],i=this.we;e.Ra+=c;c=Math.asin(6378137/Math.sqrt(i*i+40680631590769));e.F=T(e.F+d,-c,c);d=Math.asin(i/6378137*Math.sin(e.F));Math.abs(e.F)<1.0E-4?Re(e,i):Re(e,(Math.sin(Math.PI-e.F-d)/Math.sin(e.F)-1)*6378137);f-=Math.cos(e.Ra)*d;Ne(e,f,h+Math.sin(e.Ra)*d/Math.cos(f))}}};
cg.prototype.sd=function(a){this.Mc(a.screenX-this.T,a.screenY-this.U);this.T=a.screenX;this.U=a.screenY;a.preventDefault()};function dg(a,b,c){this.je=a;this.le=b;this.element=c;this.parentElement=n;this.enabled=k;this.Ee=p}r=dg.prototype;r.Tc=function(a){this.parentElement&&this.detach();this.parentElement=a;this.parentElement.appendChild(this.element)};r.detach=function(){if(this.parentElement)Gb(this.element),this.parentElement=n};r.enable=function(a){(this.enabled=a||p)||this.show(p)};r.isEnabled=aa("enabled");r.show=function(a){this.Ee=a==k;this.element.style.display=this.Ee?"block":"none"};function eg(a,b){this.e=a;this.z=b;this.Ib=new Qd}function fg(){var a=gg.nd;E(a.Ib.Pa(),a.Uf,a)}eg.prototype.Uf=function(a){var b=this.Ib.get(a);v(b)&&(b.detach(),this.Ib.remove(a));return b};
eg.prototype.fg=function(a){a=this.Ib.get(a);if(a.isEnabled()){var b;a:{var c=this.e;b=a.je;var d=a.le;b=V(b);var d=V(d),e=Math.cos(b),e=new we(Math.sin(d)*e,Math.sin(b),Math.cos(d)*e),d=c.a.Fc.multiply(new Z([[e.x],[e.y],[e.r],[1]]));if(De(d,3,0)==0)b=n;else{d=d.multiply(1/De(d,3,0));b=(De(d,0,0)+1)/2*c.a.qa;var d=(De(d,1,0)-1)/-2*c.a.pa,f=1;if(b<0||b>c.a.qa||d<0||d>c.a.pa)f=0;else{c=Ie(0.5,0.5,0,c.a.Gc,1,1);if(w(c)){b=n;break a}var f=e.x-c.x,h=e.y-c.y,i=e.r-c.r,f=Math.sqrt(f*f+h*h+i*i),e=e.Dd(c).normalize(),
e=Wf(c,e),f=w(e)?0:Math.abs(f-e[0])<Math.abs(f-e[1])?1:0}b=[b,d,f]}}x(b)?(d=b[1],a.element.style.left=b[0].toFixed()+"px",a.element.style.top=d.toFixed()+"px",a.enabled&&a.show(k),a.show(b[2]>0)):a.show(p)}};Le('.we-pp-content p{margin:18px 0;text-align:justify;}.we-pp-wrapper{padding:1px;text-align:left;border-radius:20px;}.we-pp{z-index:100;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear;position:absolute;}.we-pp-wrapper,.we-pp-tip{background:white;box-shadow:0 1px 10px #888;-moz-box-shadow:0 1px 10px #888;-webkit-box-shadow:0 1px 14px #999;}.we-pp-close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAk1BMVEX////Ny8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8sw0horAAAAMHRSTlMA/bGBFK1LgjellwUx2+VZo73SE6z5fQYOtzLRpxI22CC4g6ieV+yAEc8/ZocEHTzU+GNbAAAAV0lEQVQI1wXBBQKDMADAwLRl7szdgCks/3/d7hh0ehl0W21IwZgNR44nTNVZribmC1WXqzVstmpIALu9Gg5HOJ1VNV64arjd1YKy8sEz+nrD51tD0//xB/w6CnrIHetcAAAAAElFTkSuQmCC);position:absolute;top:9px;right:9px;width:10px;height:10px;overflow:hidden;}.we-pp-content{display:inline-block;margin:19px;font:12px/1.4 "Helvetica Neue",Arial,Helvetica,sans-serif;}.we-pp-tip-cont{margin:0 auto;width:40px;height:16px;position:relative;overflow:hidden;}.we-pp-tip{width:15px;height:15px;padding:1px;margin:-8px auto 0;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);}');Le(".we-pm-icon{position:absolute;z-index:64;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFtklEQVR42p3Wa0xTZxgH8CYkS5aQLGFxcXNZNNu4FIFCK9eCWOQm3lDizLYP+zTnxLk5wQpICxRaLuWi3FpQFMU55xDkjiBTFMeA9Zy2JzMxWUZisoS4TyRuQvG/pydQKb3Q2uSXw3nf93n+5z2nLRVIiga88RERL/MlAgDrosJ+d/zISTJMEFt2B9LyEV5kySBo7G+iI9vdhyj7nfEhcjKfUvcAma0z+Pwa5+BwuxG7myaRUH4XtHaAhLgI6VvLjwwn14zj0CUWn13lkHXZhPQWBml6e3svGq3zvIyGX0F1z0mWQ4hY0buaH3mcUvsAn17hcKDNhFQdsy4K5Nfv108jsXIM1OOoqxAfMppMAYepIF3PIrmZ8cqhy2ZkXjBYQyxE9iqksGeFXKa9h0PtHF0di6Qmxhk+fKeLOcLX72r8DdRvjvjxIRGFt638yPz+Vha7W0zY0cDYydAbkXWJ4+1rYWx/H2gzO6wl/JysehzUUw0+5Oxtq+zEyns42MYhsZ6xQ2N0C0yQae9DouhFZt1dOvYgnt5RGU3T/Dw1tqtJ1xn5Gur7D/ERRBR0W43vapzhd5FwnrHZ02Kmt+jvkBTeRsOdPzD/7wJWXkPGp0hSD2BnzUMcuMjZ1RF+LFY1BOotFYQXdPkSy/5WDvF1DKSr8GOau7g1/RecvWafzSOuuBf79CYkNxodandox0G9VYLw/FvCSGUf9rZQci1js6PeiPRGAw7WjTgNePnyJa9mgJ5h1QPsWVOf0kTBdZOg/p0CUV6nNKp4ALv1HKJrGJu0Znqo1RNQds64DLBYLBjjniK6ZMihXtZgRPK5KVD/UYHozM+R1p1k6DhEaRmblAYK0U4g/8aUy4DFxUUMMLOIUQ071CfVm5BUOwnq30shNzeJC7qwq5nDtirGJq6GRWoDixR1HxYsS3YhS0tLWFhY4OVdf4TEqgmkNprt6ukiafwhqL9OECb/yYfMpzaaEKllIa5kbNKa6D6XjqK632i3C9oBH3DPPIttyn5+XUy1Y22cegzUO18QdvqGVWdC5SNK5xBezqyg3dB9pW1Hl4wgu20cM3/O4b+FRTx++gwNgywkeTfhrE5cwfBj4oJuUG+hIDT3RyuZpLAXO+s5hGkYOzHVRn5cWv4Q4rM91iJE5HchpnQMsjrWWY1tPfUd5j/xoTnXV0zEV05Cds6MUDVjR6RhkXSecxBTbXJYG0ZojnbRA+opXQ75YUWmpLCfro7D1lLmdfH1Us0EqN+o7Vs45NS1FT7kSXzVDGK1ZghVzGtJpJAI2gX1Sn4V8n3HakcliiEk1HIILGG8FldtRqxmEtRn2u6f1taTHau9SebitCzCNUb4FzNekdZwCC/oA/XIsg/57upaKrFiBHFaDh8rGY9FVZgRrZ4C1T8mPnYhwd9eWWsDeR5TaUKwyogPFYxHYqo4iPL7QbVf8M3tQ9qd0UUoxhBdyWFLIbOucLUJkeoZUN0secMx5MRlZwKIhW4BXSWLzWcZt6IqrLsYBNWccPq7S/jNJVe6wxX3sU1jxgf5BpeExUZIygyg9XPE13nI8TZXtm89dRNiCnk/z+AKPx+aNwhaX+jyZ2pQ9kV3JkTKRxCVmrDpjMGBv4JFRBkLWjdP3nITcsGdT4JzuiAqM+NduWEtfjzkzBBoXQXf0GXIsVZ3fMiTsKIpBBYZsfG0wWZzAQuRygSaf0E2ug0J/LplPdnBOT0IVZnxTq5hBX8eLB8Gzev4Zu5D9OvxJXMhRQZsoavfkEPPQ84gpMQEGreQLeuGBBzVe0IVlDuA4GIz3j5l4I9B8hHQeIfbAFvIVzpPbCQvhEoT3pOzEBaZEZh9BTQW4mFIs6d0gbl3EKSkAPkY6LyXCDwLOdLsKWHAsXYEKswIOH4NdC4lnoX4H2nyRnfA6THQ8Zflcw9Dvmz0xnb/7A7QMW353OMQb7USgTch/wNGSWfRl/HE1wAAAABJRU5ErkJggg==);}");function hg(a){Lf.call(this,a||"OpenStreetMaps","http://{sub}.tile.openstreetmap.org/{z}/{x}/{y}.png",0,18,256,p,["a","b","c"])}C(hg,Lf);hg.prototype.Pb=function(a){L(a,"\u00a9 ",K("a",{href:"http://www.openstreetmap.org/"},"OpenStreetMap")," contributors, CC-BY-SA")};function ig(){var a={altitude:4209543,center:[31.38518,15.18749]},b=J("earth");if(!w(b)){var c=K("canvas",{style:"width:100%;height:100%;"});this.a=new $e(c,n,function(){var a=K("a",{style:"font-size:110%;display:block;width:100%;top:50%;position:relative;text-align:center;color:#800000;text-shadow:rgba(0,0,0,0.4) 0 0 6px;",href:"http://www.webglearth.com/upgrade.html"},"You need a WebGL-enabled browser to run this application.<br/>Please install Google Chrome.");L(b,a)});if(x(this.a)){af(this.a);
var d=K("div",{style:"width:100%;height:100%;position:relative;"});L(b,d);L(d,c);this.me=new Lc(15);O(this.me,Nc,A(function(){var a=this.a,b=a.c;if(!w(a.cd)){var c=B();if(a.kd<B()-2E3)a.bd=1E3*a.vc/(B()-a.kd),a.Kd=a.dd/a.vc,a.kd=B(),a.vc=0,a.dd=0,a.cd.innerHTML=a.Kd.toFixed(2)+" ms / fps: "+a.bd.toFixed(2);a.vc++}b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);a.P.I=ye(4);a.m.Vb();!w(a.cd)&&(a.dd+=B()-c);a=this.nd;E(a.Ib.Pa(),a.fg,a)},this));var c=K("img",{style:"position:absolute;bottom:0;right:0"}),
e=K("div",{style:"position:absolute;bottom:30px;left:5px;width:75%;font-size:8px;text-align:justify;color:#fff;font-family:Verdana,Arial;text-shadow:rgba(0,0,0,0.8) 0 0 4px;"});L(d,c);L(d,e);this.a.m=new Vf(this.a,j,e,c,new hg,K("span",n,"Made with ",K("a",{href:"http://www.webglearth.org/"},"WebGL Earth"),". Map "),a.atmosphere===p);this.nd=new eg(this.a.m,d);d=a.position;c=a.center;x(d)&&d.length>1?Ne(this.a.m.b,V(d[0]),V(d[1])):x(c)&&c.length>1&&Ne(this.a.m.b,V(c[0]),V(c[1]));d=a.zoom;x(d)&&Pf(this.a.m.ha,
d);d=a.altitude;x(d)&&Re(this.a.m.b,d);d=a.proxyHost;if(z(d))this.a.cc=d;this.xa=new Xf(this.a.m.b);this.Sf=n;if(a.panning!==p)this.Sf=new bg(this.a.m,this.xa);this.eg=n;if(a.tilting!==p)this.eg=new cg(this.a.m,this.xa);this.hg=n;if(a.zooming!==p)this.hg=new $f(this.a.m);this.a.Lc();this.me.start()}}};var gg=n;function jg(a,b,c,d,e,f){c=K("a",{"class":"marker",href:d,target:"_blank"},K("img",{src:c}),K("div",{"class":"makertitle"},document.createTextNode(e),K("div",{style:"color:#ccc"},document.createTextNode(f))));dg.call(this,a,b,c);this.show(p)}C(jg,dg);
function kg(a){lg!==1!==k&&fg();E(a.items,function(a){if(a.enclosure){var a=new jg(a["enrichment:place_latitude"],a["enrichment:place_longitude"],a.enclosure,a.guid,ua(a.title),ua(a["dc:creator"]+" ("+a["europeana:provider"]+")")),c=gg.nd,d=Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^B()).toString(36);a.Tc(c.z);c.Ib.set(d,a)}})}
function mg(a,b,c,d){var a=V(a),b=V(b),c=V(c),d=V(d),e;e=gg.a.ib;var f=(a+b)/2,f=Tf(f,c,f,d),h=Tf(a,0,b,0),i=Math.min(Math.max(gg.a.Qb,f/h),1);e=V(e*180/Math.PI/(i+0.4)-2);f=Math.max(h,f);f=Math.min(Math.PI/2,e+f/12756274);e=9567205.5*(Math.sin(f)*Math.sqrt(1+1/Math.pow(Math.tan(e),2))-1);c=U(c,2*Math.PI);d=U(d,2*Math.PI);f=c-d;f<-Math.PI?c+=2*Math.PI:f>Math.PI&&(d+=2*Math.PI);a=[(a+b)/2,(c+d)/2];b=Rf(gg.a.m.ha,gg.a.m.ha.S.ac+0.1,a[0]);Yf(gg.xa,a[0],a[1],Math.max(e*2,b))};var ng,S,og,lg=1,pg=p;
function qg(a){if(lg==1&&pg){var b=90,c=180,d=-90,e=-180;E(a.items,function(a){b=Math.min(b,a["enrichment:place_latitude"]);d=Math.max(d,a["enrichment:place_latitude"]);c=Math.min(c,a["enrichment:place_longitude"]);e=Math.max(e,a["enrichment:place_longitude"])});mg(b,d,c,e);pg=p}kg(a);ng=n;Fc(J("loading"),p);a.totalResults-a.startIndex-a.itemsPerPage>0?(Fc(J("results1"),k),Fc(J("results2"),p),J("results1").innerHTML="Load more from "+a.totalResults+" results..."):(Fc(J("results1"),p),Fc(J("results2"),
k),J("results2").innerHTML=a.totalResults==0?"No records found.":"All "+a.totalResults+" records loaded.")}function rg(a){a!==k&&(lg=1);Fc(J("loading"),k);ng&&(Mc.clearTimeout(ng),ng=n);var b=new qe(sg());lg==1?ng=Oc(function(){b.send({},qg)}):b.send({},qg)}
function sg(){var a=og.value,b=S.v(),c=S.v()+S.ia(),d="http://api.europeana.eu/api/opensearch.json?wskey=IAVQBBDOQQ&startPage="+lg+"&searchTerms=";a&&(d+=a+"+AND+");d+="europeana_type:*IMAGE*+AND+enrichment_period_begin%3A["+b+"-01-01T00%3A00%3A00Z+TO+"+c+"-01-01T23%3A59%3A59Z]+AND+enrichment_period_end%3A["+b+"-01-01T00%3A00%3A00Z+TO+"+c+"-01-01T23%3A59%3A59Z]enrichment_place_latitude%3A[0+TO+80]+AND+enrichment_place_longitude%3A[-20+TO+110]";return d}
window.main=function(){Fc(J("loading"),p);Fc(J("results1"),p);Fc(J("results2"),p);var a=document.getElementById("s1");S=new Nd;Jc(a);S.Nc(1750);S.ec(2010);S.ab(260);S.Ad(5);S.qe=k;S.addEventListener("change",function(){document.getElementById("out1").innerHTML="start: "+S.v()+" end: "+(S.v()+S.ia())});O(S,"change",function(){rg()});og=document.getElementById("q");O(og,"change",function(){pg=k;rg()});O(J("period"),"change",function(){var a=J("period").value,c=a.replace(/.*\(/g,""),c=c.replace(/-.*/g,
""),a=a.replace(/\)/g,""),a=a.replace(/.*-/g,"");parseInt(c)<1750&&(c=1750);parseInt(a)>2010&&(a=2010);S.Ha(parseInt(c));S.ab(parseInt(a)-parseInt(c))});gg=new ig;gg.a.m.b.F=0.5;O(J("results1"),"click",function(a){a.preventDefault();lg++;rg(k)})};
